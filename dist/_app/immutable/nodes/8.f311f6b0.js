import{s as tt,f as lt,h as at,r as st,o as rt}from"../chunks/scheduler.1f72109c.js";import{S as nt,i as ot,g as f,s as C,z as Me,r as ct,h as g,j as w,y as P,c as E,A as je,f as v,u as it,k as l,B as re,a as Q,x as a,C as Re,v as ut,D as K,d as dt,t as ht,E as Ue,w as ft,e as $e,m as _e,n as be,o as me,F as gt}from"../chunks/index.b6362bb0.js";import{e as fe,T as vt}from"../chunks/Toaster.6d89360e.js";import{u as pt,s as _t,t as bt,a as mt,i as xt,c as ge,q as Ze,w as Ye,g as ve,f as pe}from"../chunks/Toaster.svelte_svelte_type_style_lang.d48d9bd8.js";import{g as yt}from"../chunks/navigation.93248e48.js";function Ge(o,e,s){const t=o.slice();return t[39]=e[s],t}function Je(o,e,s){const t=o.slice();return t[42]=e[s],t}function wt(o){let e,s=o[42]+"",t,n,r;return{c(){e=f("option"),t=_e(s),n=C(),this.h()},l(c){e=g(c,"OPTION",{class:!0});var h=w(e);t=be(h,s),n=E(h),h.forEach(v),this.h()},h(){l(e,"class","rounded-xl"),e.__value=r=o[42],re(e,e.__value)},m(c,h){Q(c,e,h),a(e,t),a(e,n)},p(c,h){h[0]&4&&s!==(s=c[42]+"")&&me(t,s),h[0]&4&&r!==(r=c[42])&&(e.__value=r,re(e,e.__value))},d(c){c&&v(e)}}}function kt(o){let e,s=o[42]+"",t,n,r;return{c(){e=f("option"),t=_e(s),n=C(),this.h()},l(c){e=g(c,"OPTION",{class:!0});var h=w(e);t=be(h,s),n=E(h),h.forEach(v),this.h()},h(){e.selected=!0,l(e,"class","rounded-xl"),e.__value=r=o[42],re(e,e.__value)},m(c,h){Q(c,e,h),a(e,t),a(e,n)},p(c,h){h[0]&4&&s!==(s=c[42]+"")&&me(t,s),h[0]&4&&r!==(r=c[42])&&(e.__value=r,re(e,e.__value))},d(c){c&&v(e)}}}function Ke(o){let e;function s(r,c){return r[0]==r[42]?kt:wt}let t=s(o),n=t(o);return{c(){n.c(),e=$e()},l(r){n.l(r),e=$e()},m(r,c){n.m(r,c),Q(r,e,c)},p(r,c){t===(t=s(r))&&n?n.p(r,c):(n.d(1),n=t(r),n&&(n.c(),n.m(e.parentNode,e)))},d(r){r&&v(e),n.d(r)}}}function Qe(o){let e,s="Present";return{c(){e=f("label"),e.textContent=s,this.h()},l(t){e=g(t,"LABEL",{id:!0,class:!0,"data-svelte-h":!0}),P(e)!=="svelte-1lwjj2a"&&(e.textContent=s),this.h()},h(){l(e,"id","studentStatus"),l(e,"class","px-4 py-1 text-center bg-green-500 focus:none text-white rounded-full w-22 text-xs")},m(t,n){Q(t,e,n)},d(t){t&&v(e)}}}function We(o){let e,s="Absent";return{c(){e=f("label"),e.textContent=s,this.h()},l(t){e=g(t,"LABEL",{id:!0,class:!0,"data-svelte-h":!0}),P(e)!=="svelte-lq4dpu"&&(e.textContent=s),this.h()},h(){l(e,"id","studentStatus"),l(e,"class","px-4 py-1 text-center bg-red-500 focus:none text-white rounded-full w-22 text-xs")},m(t,n){Q(t,e,n)},d(t){t&&v(e)}}}function Xe(o){let e,s="Late";return{c(){e=f("label"),e.textContent=s,this.h()},l(t){e=g(t,"LABEL",{class:!0,"data-svelte-h":!0}),P(e)!=="svelte-19rkvnx"&&(e.textContent=s),this.h()},h(){l(e,"class","px-6 py-1 text-center bg-yellow-500 focus:none text-white rounded-full w-22 text-xs")},m(t,n){Q(t,e,n)},d(t){t&&v(e)}}}function et(o){let e,s,t=o[39].date+"",n,r,c,h=o[39].time+"",D,B,A,F,I,T,p=o[39].status=="Present"&&o[39].late==="False"&&Qe(),_=o[39].status=="Absent"&&o[39].late==="False"&&We(),k=o[39].late==="True"&&Xe();return{c(){e=f("tr"),s=f("td"),n=_e(t),r=C(),c=f("td"),D=_e(h),B=C(),A=f("td"),p&&p.c(),F=C(),_&&_.c(),I=C(),k&&k.c(),T=C(),this.h()},l(m){e=g(m,"TR",{class:!0});var S=w(e);s=g(S,"TD",{class:!0});var H=w(s);n=be(H,t),H.forEach(v),r=E(S),c=g(S,"TD",{class:!0});var W=w(c);D=be(W,h),W.forEach(v),B=E(S),A=g(S,"TD",{class:!0});var V=w(A);p&&p.l(V),F=E(V),_&&_.l(V),I=E(V),k&&k.l(V),V.forEach(v),T=E(S),S.forEach(v),this.h()},h(){l(s,"class","py-4 text-left pl-4"),l(c,"class","text-center"),l(A,"class","text-center"),l(e,"class","bg-white border-b dark:bg-gray-800 dark:border-gray-700")},m(m,S){Q(m,e,S),a(e,s),a(s,n),a(e,r),a(e,c),a(c,D),a(e,B),a(e,A),p&&p.m(A,null),a(A,F),_&&_.m(A,null),a(A,I),k&&k.m(A,null),a(e,T)},p(m,S){S[0]&8&&t!==(t=m[39].date+"")&&me(n,t),S[0]&8&&h!==(h=m[39].time+"")&&me(D,h),m[39].status=="Present"&&m[39].late==="False"?p||(p=Qe(),p.c(),p.m(A,F)):p&&(p.d(1),p=null),m[39].status=="Absent"&&m[39].late==="False"?_||(_=We(),_.c(),_.m(A,I)):_&&(_.d(1),_=null),m[39].late==="True"?k||(k=Xe(),k.c(),k.m(A,null)):k&&(k.d(1),k=null)},d(m){m&&v(e),p&&p.d(),_&&_.d(),k&&k.d()}}}function St(o){let e,s,t,n,r,c='<img src="Mwenzi5.png" class="h-14 pb-2" alt="..."/>',h,D,B,A="Hi, Mwenzi Teacher",F,I,T,p,_,k,m,S,H,W="Log out",V,R,N,O,xe="Select Class",ne,u,x,b,y,z,ye='<tr><th scope="col" class="px-5 py-4 text-left">Date</th> <th scope="col" class="px-6 py-4 text-center">Time</th> <th scope="col" class="px-6 py-4 text-center">Status</th></tr>',we,le,ke,X,q,U,Be='<svg xmlns="http://www.w3.org/2000/svg" width="27" height="28" fill="currentColor" class="bi bi-person-fill-check text-blue-500 dark:text-blue-400 group-hover:text-blue-600 dark:group-hover:text-blue-500" viewBox="0 0 16 16"><path d="M12.5 16a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7Zm1.679-4.493-1.335 2.226a.75.75 0 0 1-1.174.144l-.774-.773a.5.5 0 0 1 .708-.708l.547.548 1.17-1.951a.5.5 0 1 1 .858.514ZM11 5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"></path><path d="M2 13c0 1 1 1 1 1h5.256A4.493 4.493 0 0 1 8 12.5a4.49 4.49 0 0 1 1.544-3.393C9.077 9.038 8.564 9 8 9c-5 0-6 3-6 4Z"></path></svg> <span class="text-sm text-blue-500 dark:text-blue-400 group-hover:text-blue-600 dark:group-hover:text-blue-500">Attendance</span>',Se,$,Ie='<svg xmlns="http://www.w3.org/2000/svg" width="25" height="28" fill="currentColor" class="bi bi-award-fill text-gray-500 dark:text-gray-400 group-hover:text-blue-600 dark:group-hover:text-blue-500" viewBox="0 0 16 16"><path d="m8 0 1.669.864 1.858.282.842 1.68 1.337 1.32L13.4 6l.306 1.854-1.337 1.32-.842 1.68-1.858.282L8 12l-1.669-.864-1.858-.282-.842-1.68-1.337-1.32L2.6 6l-.306-1.854 1.337-1.32.842-1.68L6.331.864 8 0z"></path><path d="M4 11.794V16l4-1 4 1v-4.206l-2.018.306L8 13.126 6.018 12.1 4 11.794z"></path></svg> <span class="text-sm text-gray-500 dark:text-gray-400 group-hover:text-blue-600 dark:group-hover:text-blue-500">Points</span>',Ae,Z,Ne='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="28" fill="currentColor" class="bi bi-sticky-fill text-gray-500 dark:text-gray-400 group-hover:text-blue-600 dark:group-hover:text-blue-500" viewBox="0 0 17 17"><path d="M2.5 1A1.5 1.5 0 0 0 1 2.5v11A1.5 1.5 0 0 0 2.5 15h6.086a1.5 1.5 0 0 0 1.06-.44l4.915-4.914A1.5 1.5 0 0 0 15 8.586V2.5A1.5 1.5 0 0 0 13.5 1h-11zm6 8.5a1 1 0 0 1 1-1h4.396a.25.25 0 0 1 .177.427l-5.146 5.146a.25.25 0 0 1-.427-.177V9.5z"></path></svg> <span class="text-sm text-gray-500 dark:text-gray-400 group-hover:text-blue-600 dark:group-hover:text-blue-500">Notes</span>',Te,Y,ze='<svg xmlns="http://www.w3.org/2000/svg" width="25" height="28" fill="currentColor" class="bi bi-grid-fill text-gray-500 dark:text-gray-400 group-hover:text-blue-600 dark:group-hover:text-blue-500" viewBox="0 0 17 17"><path d="M1 2.5A1.5 1.5 0 0 1 2.5 1h3A1.5 1.5 0 0 1 7 2.5v3A1.5 1.5 0 0 1 5.5 7h-3A1.5 1.5 0 0 1 1 5.5v-3zm8 0A1.5 1.5 0 0 1 10.5 1h3A1.5 1.5 0 0 1 15 2.5v3A1.5 1.5 0 0 1 13.5 7h-3A1.5 1.5 0 0 1 9 5.5v-3zm-8 8A1.5 1.5 0 0 1 2.5 9h3A1.5 1.5 0 0 1 7 10.5v3A1.5 1.5 0 0 1 5.5 15h-3A1.5 1.5 0 0 1 1 13.5v-3zm8 0A1.5 1.5 0 0 1 10.5 9h3a1.5 1.5 0 0 1 1.5 1.5v3a1.5 1.5 0 0 1-1.5 1.5h-3A1.5 1.5 0 0 1 9 13.5v-3z"></path></svg> <span class="text-sm text-gray-500 dark:text-gray-400 group-hover:text-blue-600 dark:group-hover:text-blue-500">Modules</span>',Ce,ee,oe,Ee,He,ae=fe(o[2]),M=[];for(let d=0;d<ae.length;d+=1)M[d]=Ke(Je(o,ae,d));let se=fe(o[3]),j=[];for(let d=0;d<se.length;d+=1)j[d]=et(Ge(o,se,d));return ee=new vt({}),{c(){e=f("body"),s=f("header"),t=f("div"),n=f("div"),r=f("nav"),r.innerHTML=c,h=C(),D=f("div"),B=f("p"),B.textContent=A,F=C(),I=f("button"),T=Me("svg"),p=Me("path"),_=Me("path"),k=C(),m=f("ul"),S=f("li"),H=f("a"),H.textContent=W,V=C(),R=f("div"),N=f("select"),O=f("option"),O.textContent=xe;for(let d=0;d<M.length;d+=1)M[d].c();ne=C(),u=f("input"),x=C(),b=f("div"),y=f("table"),z=f("thead"),z.innerHTML=ye,we=C(),le=f("tbody");for(let d=0;d<j.length;d+=1)j[d].c();ke=C(),X=f("div"),q=f("div"),U=f("button"),U.innerHTML=Be,Se=C(),$=f("button"),$.innerHTML=Ie,Ae=C(),Z=f("button"),Z.innerHTML=Ne,Te=C(),Y=f("button"),Y.innerHTML=ze,Ce=C(),ct(ee.$$.fragment),this.h()},l(d){e=g(d,"BODY",{class:!0});var L=w(e);s=g(L,"HEADER",{class:!0});var i=w(s);t=g(i,"DIV",{class:!0});var G=w(t);n=g(G,"DIV",{class:!0});var ce=w(n);r=g(ce,"NAV",{class:!0,"data-svelte-h":!0}),P(r)!=="svelte-1njl2ha"&&(r.innerHTML=c),h=E(ce),D=g(ce,"DIV",{class:!0});var ie=w(D);B=g(ie,"P",{class:!0,id:!0,"data-svelte-h":!0}),P(B)!=="svelte-kjnun9"&&(B.textContent=A),F=E(ie),I=g(ie,"BUTTON",{class:!0});var ue=w(I);T=je(ue,"svg",{xmlns:!0,width:!0,height:!0,fill:!0,class:!0,viewBox:!0});var De=w(T);p=je(De,"path",{d:!0}),w(p).forEach(v),_=je(De,"path",{"fill-rule":!0,d:!0}),w(_).forEach(v),De.forEach(v),k=E(ue),m=g(ue,"UL",{tabindex:!0,class:!0});var Oe=w(m);S=g(Oe,"LI",{class:!0});var qe=w(S);H=g(qe,"A",{class:!0,"data-svelte-h":!0}),P(H)!=="svelte-no50v0"&&(H.textContent=W),qe.forEach(v),Oe.forEach(v),ue.forEach(v),ie.forEach(v),ce.forEach(v),G.forEach(v),i.forEach(v),V=E(L),R=g(L,"DIV",{class:!0});var de=w(R);N=g(de,"SELECT",{id:!0,class:!0});var Le=w(N);O=g(Le,"OPTION",{"data-svelte-h":!0}),P(O)!=="svelte-nnppqb"&&(O.textContent=xe);for(let te=0;te<M.length;te+=1)M[te].l(Le);Le.forEach(v),ne=E(de),u=g(de,"INPUT",{id:!0,type:!0,placeholder:!0,class:!0}),de.forEach(v),x=E(L),b=g(L,"DIV",{class:!0});var Pe=w(b);y=g(Pe,"TABLE",{class:!0});var he=w(y);z=g(he,"THEAD",{class:!0,"data-svelte-h":!0}),P(z)!=="svelte-196ltf0"&&(z.innerHTML=ye),we=E(he),le=g(he,"TBODY",{});var Ve=w(le);for(let te=0;te<j.length;te+=1)j[te].l(Ve);Ve.forEach(v),he.forEach(v),Pe.forEach(v),ke=E(L),X=g(L,"DIV",{id:!0,class:!0});var Fe=w(X);q=g(Fe,"DIV",{class:!0});var J=w(q);U=g(J,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),P(U)!=="svelte-14v24f9"&&(U.innerHTML=Be),Se=E(J),$=g(J,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),P($)!=="svelte-3l0z6o"&&($.innerHTML=Ie),Ae=E(J),Z=g(J,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),P(Z)!=="svelte-17gho8l"&&(Z.innerHTML=Ne),Te=E(J),Y=g(J,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),P(Y)!=="svelte-1l6voli"&&(Y.innerHTML=ze),J.forEach(v),Fe.forEach(v),Ce=E(L),it(ee.$$.fragment,L),L.forEach(v),this.h()},h(){l(r,"class","flex"),l(B,"class","font-medium text-md my-auto mr-3"),l(B,"id","userName"),l(p,"d","M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"),l(_,"fill-rule","evenodd"),l(_,"d","M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8zm8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1z"),l(T,"xmlns","http://www.w3.org/2000/svg"),l(T,"width","28"),l(T,"height","28"),l(T,"fill","green"),l(T,"class","bi bi-person-circle"),l(T,"viewBox","0 0 16 16"),l(H,"class","py-1 flex justify-center font-medium text-sm"),l(S,"class","rounded-2xl hover:bg-gray-200"),l(m,"tabindex","0"),l(m,"class","text-center rounded-2xl mt-2 dropdown-content shadow bg-base-100 w-24"),l(I,"class","dropdown dropdown-end"),l(D,"class","flex flex-row"),l(n,"class","w-full flex flex-row justify-between"),l(t,"class","mx-6 flex flex-wrap pt-5 flex-col md:flex-row items-center"),l(s,"class","header text-gray-600 body-font svelte-1s7ow3w"),O.disabled=!0,O.selected=!0,O.__value="Select Class",re(O,O.__value),l(N,"id","classSelection"),l(N,"class","select select-bordered font-medium focus:outline-1 w-full rounded-3xl max-w-xs"),o[1]===void 0&&lt(()=>o[9].call(N)),u.hidden=!0,l(u,"id","dateSelector1"),l(u,"type","date"),l(u,"placeholder","dd/mm/yyyy"),l(u,"class","bg-white w-56 h-12 font-medium text-sm text-center mx-2 rounded-3xl border border-gray-300 px-2 focus:outline-1 focus:outline-gray-300"),u.value=at+";",l(R,"class","flex justify-center mt-4 mx-6"),l(z,"class","text-xs text-gray-700 bg-gray-50 dark:bg-gray-700 dark:text-gray-400 sticky top-0"),l(y,"class","text-sm text-gray-500 dark:text-gray-400 w-full rounded-lg shadow-sm"),l(b,"class","mt-5 px-4 items-center text-center h-3/4 overflow-y-auto"),l(U,"type","button"),l(U,"class","inline-flex flex-col items-center justify-center px-5 hover:bg-gray-50 dark:hover:bg-gray-800 group"),l($,"type","button"),l($,"class","inline-flex flex-col items-center justify-center px-5 hover:bg-gray-50 dark:hover:bg-gray-800 group"),l(Z,"type","button"),l(Z,"class","inline-flex flex-col items-center justify-center px-5 hover:bg-gray-50 dark:hover:bg-gray-800 group"),l(Y,"type","button"),l(Y,"class","inline-flex flex-col items-center justify-center px-5 hover:bg-gray-50 dark:hover:bg-gray-800 group"),l(q,"class","grid h-full max-w-lg grid-cols-4 mx-auto font-medium"),l(X,"id","bottomnav"),l(X,"class","fixed bottom-0 left-0 z-50 w-full h-16 bg-white border-t border-gray-200 dark:bg-gray-700 dark:border-gray-600 svelte-1s7ow3w"),l(e,"class","h-screen")},m(d,L){Q(d,e,L),a(e,s),a(s,t),a(t,n),a(n,r),a(n,h),a(n,D),a(D,B),a(D,F),a(D,I),a(I,T),a(T,p),a(T,_),a(I,k),a(I,m),a(m,S),a(S,H),a(e,V),a(e,R),a(R,N),a(N,O);for(let i=0;i<M.length;i+=1)M[i]&&M[i].m(N,null);Re(N,o[1],!0),a(R,ne),a(R,u),a(e,x),a(e,b),a(b,y),a(y,z),a(y,we),a(y,le);for(let i=0;i<j.length;i+=1)j[i]&&j[i].m(le,null);a(e,ke),a(e,X),a(X,q),a(q,U),a(q,Se),a(q,$),a(q,Ae),a(q,Z),a(q,Te),a(q,Y),a(e,Ce),ut(ee,e,null),oe=!0,Ee||(He=[K(H,"click",o[8]),K(N,"change",o[9]),K(N,"change",o[10]),K(u,"change",o[11]),K(U,"click",o[12]),K($,"click",o[13]),K(Z,"click",o[14]),K(Y,"click",o[15])],Ee=!0)},p(d,L){if(L[0]&5){ae=fe(d[2]);let i;for(i=0;i<ae.length;i+=1){const G=Je(d,ae,i);M[i]?M[i].p(G,L):(M[i]=Ke(G),M[i].c(),M[i].m(N,null))}for(;i<M.length;i+=1)M[i].d(1);M.length=ae.length}if(L[0]&6&&Re(N,d[1]),L[0]&8){se=fe(d[3]);let i;for(i=0;i<se.length;i+=1){const G=Ge(d,se,i);j[i]?j[i].p(G,L):(j[i]=et(G),j[i].c(),j[i].m(le,null))}for(;i<j.length;i+=1)j[i].d(1);j.length=se.length}},i(d){oe||(dt(ee.$$.fragment,d),oe=!0)},o(d){ht(ee.$$.fragment,d),oe=!1},d(d){d&&v(e),Ue(M,d),Ue(j,d),ft(ee),Ee=!1,st(He)}}}function At(o,e,s){let t;async function n(u){localStorage.setItem("selectedSubject",u),console.log(t+"hahahahadfdsgdf")}function r(u){yt(u)}let c="",h,D=[],B=[],A;async function F(){const u=ge(pe,"Subject",`${h}`,"Attendance");ve(u).then(b=>{b.forEach(y=>{B.push(y.id)})}).catch(b=>{console.error("Error fetching documents:",b)}),B.sort((b,y)=>{const z=new Date(b);return new Date(y)-z}),B.shift();const x=document.getElementById("dateSelector1");x.value=A}async function I(){const u=ge(pe,"Subject"),x=Ze(u,Ye("students","array-contains",c)),b=await ve(x);s(2,D=b.docs.map(y=>y.id)),console.log(D)}let T={},p=[];async function _(){const u=ge(pe,"Subject",`${h}`,"Attendance");(await ve(u)).forEach(b=>{const y=b.data();y[c]&&(T[b.id]=y[c])}),s(3,p=Object.keys(T).map(b=>({date:b,...T[b]}))),p.sort((b,y)=>new Date(y.date)-new Date(b.date)),console.log(p)}function k(){fetch("https://worldtimeapi.org/api/timezone/Asia/Manila").then(u=>u.json()).then(u=>{var x=new Date(u.datetime),b=x.getFullYear(),y=x.getMonth()+1,z=x.getDate();A=b+"-"+y.toString().padStart(2,"0")+"-"+z.toString().padStart(2,"0"),console.log(A)}).catch(u=>{console.log("Error:",u)})}async function m(){console.log(h),I(),await F(),_()}async function S(u){const x=ge(pe,"users"),b=Ze(x,Ye("studentRFID","==",u)),y=await ve(b);if(y.docs.length>0){const z=y.docs[0];document.getElementById("userName").textContent=z.data().firstName+" "+z.data().lastName}else return"Student not found"}rt(()=>{const u=pt.subscribe(x=>(c=localStorage.getItem("userId"),console.log(c),S(c),I(),k(),()=>{u()}));_t.subscribe(x=>{typeof localStorage<"u"&&(localStorage.subjectSelected1=x)}),bt.subscribe(x=>{typeof localStorage<"u"&&(localStorage.timeFrom=x)}),mt.subscribe(x=>{typeof localStorage<"u"&&(localStorage.timeTo=x)}),xt.subscribe(x=>{typeof localStorage<"u"&&(localStorage.selectedSubject=x,s(0,t=x))})});const H=u=>r("/Student-Login");function W(){h=gt(this),s(1,h),s(2,D)}return[t,h,D,p,n,r,_,m,H,W,u=>{m(),n(u.target.value)},()=>_(),u=>r("/Student-Attendance"),u=>r("/Student-Points"),u=>r("/Student-Notes"),u=>r("/Modules")]}class Mt extends nt{constructor(e){super(),ot(this,e,At,St,tt,{},null,[-1,-1])}}export{Mt as component};

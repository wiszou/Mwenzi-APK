import{s as Ie,f as Pe,h as je,r as Le,o as Me}from"../chunks/scheduler.542a8b70.js";import{S as He,i as ze,g as v,s as L,r as Re,h as m,j as B,y as H,c as M,f as C,u as qe,k as x,z as V,a as F,x as f,B as xe,v as Be,A as J,d as Ve,t as Fe,C as ye,w as $e,e as we,m as de,n as fe,o as he,D as Ue}from"../chunks/index.def341b4.js";import{e as re,T as Ke,u as Ge,s as Ye,b as Xe,d as Je,k as Qe,a as We,c as W,q as Ce,w as pe,g as ce,h as te,o as ke,i as ie,j as ue,f as Z,r as Ze,l as et,m as tt,n as at}from"../chunks/navigation.51511263.js";function Se(c,e,i){const u=c.slice();return u[40]=e[i],u}function Te(c,e,i){const u=c.slice();return u[43]=e[i],u}function nt(c){let e,i=c[43].id+"",u,l,a;return{c(){e=v("option"),u=de(i),l=L(),this.h()},l(s){e=m(s,"OPTION",{class:!0});var t=B(e);u=fe(t,i),l=M(t),t.forEach(C),this.h()},h(){x(e,"class","rounded-xl"),e.__value=a=c[43].id,V(e,e.__value)},m(s,t){F(s,e,t),f(e,u),f(e,l)},p(s,t){t[0]&4&&i!==(i=s[43].id+"")&&he(u,i),t[0]&4&&a!==(a=s[43].id)&&(e.__value=a,V(e,e.__value))},d(s){s&&C(e)}}}function lt(c){let e,i=c[43].id+"",u,l,a;return{c(){e=v("option"),u=de(i),l=L(),this.h()},l(s){e=m(s,"OPTION",{class:!0});var t=B(e);u=fe(t,i),l=M(t),t.forEach(C),this.h()},h(){e.selected=!0,x(e,"class","rounded-xl"),e.__value=a=c[43].id,V(e,e.__value)},m(s,t){F(s,e,t),f(e,u),f(e,l)},p(s,t){t[0]&4&&i!==(i=s[43].id+"")&&he(u,i),t[0]&4&&a!==(a=s[43].id)&&(e.__value=a,V(e,e.__value))},d(s){s&&C(e)}}}function Ee(c){let e;function i(a,s){return a[0]==a[43].id?lt:nt}let u=i(c),l=u(c);return{c(){l.c(),e=we()},l(a){l.l(a),e=we()},m(a,s){l.m(a,s),F(a,e,s)},p(a,s){u===(u=i(a))&&l?l.p(a,s):(l.d(1),l=u(a),l&&(l.c(),l.m(e.parentNode,e)))},d(a){a&&C(e),l.d(a)}}}function De(c){let e,i="Present",u,l,a,s="Present",t,P="Absent",d,b="Late",w,D;function j(...n){return c[12](c[40],...n)}return{c(){e=v("span"),e.textContent=i,u=L(),l=v("select"),a=v("option"),a.textContent=s,t=v("option"),t.textContent=P,d=v("option"),d.textContent=b,this.h()},l(n){e=m(n,"SPAN",{class:!0,"data-svelte-h":!0}),H(e)!=="svelte-1qcojsv"&&(e.textContent=i),u=M(n),l=m(n,"SELECT",{id:!0,class:!0});var o=B(l);a=m(o,"OPTION",{"data-svelte-h":!0}),H(a)!=="svelte-18i03hi"&&(a.textContent=s),t=m(o,"OPTION",{"data-svelte-h":!0}),H(t)!=="svelte-rmw58x"&&(t.textContent=P),d=m(o,"OPTION",{"data-svelte-h":!0}),H(d)!=="svelte-18kq4q0"&&(d.textContent=b),o.forEach(C),this.h()},h(){x(e,"class","bg-green-500 text-white py-1 px-3 rounded-full text-xs"),a.selected=!0,a.__value="Present",V(a,a.__value),t.__value="Absent",V(t,t.__value),d.__value="Late",V(d,d.__value),x(l,"id","studentStatus"),x(l,"class","select select-xs bg-green-500 focus:none text-white rounded-full w-22 text-xs")},m(n,o){F(n,e,o),F(n,u,o),F(n,l,o),f(l,a),f(l,t),f(l,d),w||(D=J(l,"change",j),w=!0)},p(n,o){c=n},d(n){n&&(C(e),C(u),C(l)),w=!1,D()}}}function Ne(c){let e,i="Absent",u,l,a,s="Present",t,P="Absent",d,b="Late",w,D;function j(...n){return c[13](c[40],...n)}return{c(){e=v("span"),e.textContent=i,u=L(),l=v("select"),a=v("option"),a.textContent=s,t=v("option"),t.textContent=P,d=v("option"),d.textContent=b,this.h()},l(n){e=m(n,"SPAN",{class:!0,"data-svelte-h":!0}),H(e)!=="svelte-1dq4bpr"&&(e.textContent=i),u=M(n),l=m(n,"SELECT",{id:!0,class:!0});var o=B(l);a=m(o,"OPTION",{"data-svelte-h":!0}),H(a)!=="svelte-b4gmlz"&&(a.textContent=s),t=m(o,"OPTION",{"data-svelte-h":!0}),H(t)!=="svelte-91jnc4"&&(t.textContent=P),d=m(o,"OPTION",{"data-svelte-h":!0}),H(d)!=="svelte-18kq4q0"&&(d.textContent=b),o.forEach(C),this.h()},h(){x(e,"class","bg-red-500 text-white py-1 px-3 rounded-full text-xs"),a.__value="Present",V(a,a.__value),t.selected=!0,t.__value="Absent",V(t,t.__value),d.__value="Late",V(d,d.__value),x(l,"id","studentStatus"),x(l,"class","select select-xs bg-red-500 focus:none text-white rounded-full w-22 text-xs")},m(n,o){F(n,e,o),F(n,u,o),F(n,l,o),f(l,a),f(l,t),f(l,d),w||(D=J(l,"change",j),w=!0)},p(n,o){c=n},d(n){n&&(C(e),C(u),C(l)),w=!1,D()}}}function Ae(c){let e,i="Late",u,l,a,s="Present",t,P="Absent",d,b="Late",w,D;function j(...n){return c[14](c[40],...n)}return{c(){e=v("span"),e.textContent=i,u=L(),l=v("select"),a=v("option"),a.textContent=s,t=v("option"),t.textContent=P,d=v("option"),d.textContent=b,this.h()},l(n){e=m(n,"SPAN",{class:!0,"data-svelte-h":!0}),H(e)!=="svelte-t5x6o7"&&(e.textContent=i),u=M(n),l=m(n,"SELECT",{class:!0});var o=B(l);a=m(o,"OPTION",{"data-svelte-h":!0}),H(a)!=="svelte-b4gmlz"&&(a.textContent=s),t=m(o,"OPTION",{"data-svelte-h":!0}),H(t)!=="svelte-rmw58x"&&(t.textContent=P),d=m(o,"OPTION",{"data-svelte-h":!0}),H(d)!=="svelte-svor0n"&&(d.textContent=b),o.forEach(C),this.h()},h(){x(e,"class","bg-yellow-500 text-white py-1 px-3 rounded-full text-xs"),a.__value="Present",V(a,a.__value),t.__value="Absent",V(t,t.__value),d.selected=!0,d.__value="Late",V(d,d.__value),x(l,"class","select select-xs bg-yellow-500 focus:none text-white rounded-full w-22 text-xs")},m(n,o){F(n,e,o),F(n,u,o),F(n,l,o),f(l,a),f(l,t),f(l,d),w||(D=J(l,"change",j),w=!0)},p(n,o){c=n},d(n){n&&(C(e),C(u),C(l)),w=!1,D()}}}function Oe(c){let e,i,u=c[40].name+"",l,a,s,t=c[40].time+"",P,d,b,w,D,j,n=c[40].status=="Present"&&c[40].late==="False"&&De(c),o=c[40].status=="Absent"&&c[40].late==="False"&&Ne(c),O=c[40].late==="True"&&Ae(c);return{c(){e=v("tr"),i=v("td"),l=de(u),a=L(),s=v("td"),P=de(t),d=L(),b=v("td"),n&&n.c(),w=L(),o&&o.c(),D=L(),O&&O.c(),j=L(),this.h()},l(T){e=m(T,"TR",{class:!0});var I=B(e);i=m(I,"TD",{class:!0});var U=B(i);l=fe(U,u),U.forEach(C),a=M(I),s=m(I,"TD",{class:!0});var z=B(s);P=fe(z,t),z.forEach(C),d=M(I),b=m(I,"TD",{class:!0});var q=B(b);n&&n.l(q),w=M(q),o&&o.l(q),D=M(q),O&&O.l(q),q.forEach(C),j=M(I),I.forEach(C),this.h()},h(){x(i,"class","py-4 text-center"),x(s,"class","text-center"),x(b,"class","text-center"),x(e,"class","bg-white border-b dark:bg-gray-800 dark:border-gray-700")},m(T,I){F(T,e,I),f(e,i),f(i,l),f(e,a),f(e,s),f(s,P),f(e,d),f(e,b),n&&n.m(b,null),f(b,w),o&&o.m(b,null),f(b,D),O&&O.m(b,null),f(e,j)},p(T,I){I[0]&8&&u!==(u=T[40].name+"")&&he(l,u),I[0]&8&&t!==(t=T[40].time+"")&&he(P,t),T[40].status=="Present"&&T[40].late==="False"?n?n.p(T,I):(n=De(T),n.c(),n.m(b,w)):n&&(n.d(1),n=null),T[40].status=="Absent"&&T[40].late==="False"?o?o.p(T,I):(o=Ne(T),o.c(),o.m(b,D)):o&&(o.d(1),o=null),T[40].late==="True"?O?O.p(T,I):(O=Ae(T),O.c(),O.m(b,null)):O&&(O.d(1),O=null)},d(T){T&&C(e),n&&n.d(),o&&o.d(),O&&O.d()}}}function st(c){let e,i,u='<div class="mx-6 flex flex-wrap pt-5 flex-col md:flex-row items-center"><div class="w-full flex flex-row justify-between"><nav class="flex"><img src="Mwenzi5.png" class="h-14 pb-2" alt="..."/></nav> <div class="flex flex-row"><p class="font-medium text-md my-auto mr-3" id="userName">Hi, Mwenzi Teacher</p> <button class="dropdown dropdown-end"><svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="green" class="bi bi-person-circle" viewBox="0 0 16 16"><path d="M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"></path><path fill-rule="evenodd" d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8zm8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1z"></path></svg> <ul tabindex="0" class="text-center rounded-2xl mt-2 dropdown-content shadow bg-base-100 w-24"><li class="rounded-2xl hover:bg-gray-200"><a class="py-1 flex justify-center font-medium text-sm">Log out</a></li></ul></button></div></div></div>',l,a,s,t,P="Select Class",d,b,w,D,j,n,o='<tr><th scope="col" class="px-5 py-4 text-left">Student</th> <th scope="col" class="px-6 py-4 text-center">Time</th> <th scope="col" class="px-6 py-4 text-center">Status</th></tr>',O,T,I,U,z,q,ae='<svg class="w-6 h-6 mb-1 text-blue-500 dark:text-blue-400 group-hover:text-blue-600 dark:group-hover:text-blue-500" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><path d="M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"></path></svg> <span class="text-sm text-gray-500 dark:text-gray-400 group-hover:text-blue-600 dark:group-hover:text-blue-500">Attendance</span>',ne,K,ge='<svg class="w-6 h-6 mb-1 text-gray-500 dark:text-gray-400 group-hover:text-blue-600 dark:group-hover:text-blue-500" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><path d="M4 4a2 2 0 00-2 2v1h16V6a2 2 0 00-2-2H4z"></path><path clip-rule="evenodd" fill-rule="evenodd" d="M18 9H2v5a2 2 0 002 2h12a2 2 0 002-2V9zM4 13a1 1 0 011-1h1a1 1 0 110 2H5a1 1 0 01-1-1zm5-1a1 1 0 100 2h1a1 1 0 100-2H9z"></path></svg> <span class="text-sm text-gray-500 dark:text-gray-400 group-hover:text-blue-600 dark:group-hover:text-blue-500">Points</span>',le,G,_e='<svg class="w-6 h-6 mb-1 text-gray-500 dark:text-gray-400 group-hover:text-blue-600 dark:group-hover:text-blue-500" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><path d="M5 4a1 1 0 00-2 0v7.268a2 2 0 000 3.464V16a1 1 0 102 0v-1.268a2 2 0 000-3.464V4zM11 4a1 1 0 10-2 0v1.268a2 2 0 000 3.464V16a1 1 0 102 0V8.732a2 2 0 000-3.464V4zM16 3a1 1 0 011 1v7.268a2 2 0 010 3.464V16a1 1 0 11-2 0v-1.268a2 2 0 010-3.464V4a1 1 0 011-1z"></path></svg> <span class="text-sm text-gray-500 dark:text-gray-400 group-hover:text-blue-600 dark:group-hover:text-blue-500">Notes</span>',se,Y,r='<svg class="w-6 h-6 mb-1 text-gray-500 dark:text-gray-400 group-hover:text-blue-600 dark:group-hover:text-blue-500" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><path clip-rule="evenodd" fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-6-3a2 2 0 11-4 0 2 2 0 014 0zm-2 4a5 5 0 00-4.546 2.916A5.986 5.986 0 0010 16a5.986 5.986 0 004.546-2.084A5 5 0 0010 11z"></path></svg> <span class="text-sm text-gray-500 dark:text-gray-400 group-hover:text-blue-600 dark:group-hover:text-blue-500">Actions</span>',h,k,g,y,N,E=re(c[2]),S=[];for(let p=0;p<E.length;p+=1)S[p]=Ee(Te(c,E,p));let $=re(c[3]),A=[];for(let p=0;p<$.length;p+=1)A[p]=Oe(Se(c,$,p));return k=new Ke({}),{c(){e=v("body"),i=v("header"),i.innerHTML=u,l=L(),a=v("div"),s=v("select"),t=v("option"),t.textContent=P;for(let p=0;p<S.length;p+=1)S[p].c();d=L(),b=v("input"),w=L(),D=v("div"),j=v("table"),n=v("thead"),n.innerHTML=o,O=L(),T=v("tbody");for(let p=0;p<A.length;p+=1)A[p].c();I=L(),U=v("div"),z=v("div"),q=v("button"),q.innerHTML=ae,ne=L(),K=v("button"),K.innerHTML=ge,le=L(),G=v("button"),G.innerHTML=_e,se=L(),Y=v("button"),Y.innerHTML=r,h=L(),Re(k.$$.fragment),this.h()},l(p){e=m(p,"BODY",{class:!0});var R=B(e);i=m(R,"HEADER",{class:!0,"data-svelte-h":!0}),H(i)!=="svelte-114fpnd"&&(i.innerHTML=u),l=M(R),a=m(R,"DIV",{class:!0});var _=B(a);s=m(_,"SELECT",{id:!0,class:!0});var X=B(s);t=m(X,"OPTION",{"data-svelte-h":!0}),H(t)!=="svelte-nnppqb"&&(t.textContent=P);for(let ee=0;ee<S.length;ee+=1)S[ee].l(X);X.forEach(C),d=M(_),b=m(_,"INPUT",{id:!0,type:!0,class:!0}),_.forEach(C),w=M(R),D=m(R,"DIV",{class:!0});var ve=B(D);j=m(ve,"TABLE",{class:!0});var oe=B(j);n=m(oe,"THEAD",{class:!0,"data-svelte-h":!0}),H(n)!=="svelte-i0ityr"&&(n.innerHTML=o),O=M(oe),T=m(oe,"TBODY",{});var me=B(T);for(let ee=0;ee<A.length;ee+=1)A[ee].l(me);me.forEach(C),oe.forEach(C),ve.forEach(C),I=M(R),U=m(R,"DIV",{class:!0});var be=B(U);z=m(be,"DIV",{class:!0});var Q=B(z);q=m(Q,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),H(q)!=="svelte-dlzoyn"&&(q.innerHTML=ae),ne=M(Q),K=m(Q,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),H(K)!=="svelte-btecv0"&&(K.innerHTML=ge),le=M(Q),G=m(Q,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),H(G)!=="svelte-12qtqqa"&&(G.innerHTML=_e),se=M(Q),Y=m(Q,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),H(Y)!=="svelte-4h8s90"&&(Y.innerHTML=r),Q.forEach(C),be.forEach(C),h=M(R),qe(k.$$.fragment,R),R.forEach(C),this.h()},h(){x(i,"class","text-gray-600 body-font"),t.disabled=!0,t.selected=!0,t.__value="Select Class",V(t,t.__value),x(s,"id","classSelection"),x(s,"class","select select-bordered font-medium focus:outline-1 w-full rounded-3xl max-w-xs"),c[1]===void 0&&Pe(()=>c[9].call(s)),x(b,"id","dateSelector1"),x(b,"type","date"),x(b,"class","w-56 h-12 font-medium text-sm text-center mx-2 rounded-3xl border border-gray-300 px-2 focus:outline-1 focus:outline-gray-300"),b.value=je+";",x(a,"class","flex justify-center mt-4 mx-6"),x(n,"class","text-xs text-gray-700 bg-gray-50 dark:bg-gray-700 dark:text-gray-400 sticky top-0"),x(j,"class","text-sm text-gray-500 dark:text-gray-400 w-full rounded-lg shadow-sm"),x(D,"class","mt-5 px-4 items-center text-center h-3/4 overflow-y-auto"),x(q,"type","button"),x(q,"class","inline-flex flex-col items-center justify-center px-5 hover:bg-gray-50 dark:hover:bg-gray-800 group"),x(K,"type","button"),x(K,"class","inline-flex flex-col items-center justify-center px-5 hover:bg-gray-50 dark:hover:bg-gray-800 group"),x(G,"type","button"),x(G,"class","inline-flex flex-col items-center justify-center px-5 hover:bg-gray-50 dark:hover:bg-gray-800 group"),x(Y,"type","button"),x(Y,"class","inline-flex flex-col items-center justify-center px-5 hover:bg-gray-50 dark:hover:bg-gray-800 group"),x(z,"class","grid h-full max-w-lg grid-cols-4 mx-auto font-medium"),x(U,"class","fixed bottom-0 left-0 z-50 w-full h-16 bg-white border-t border-gray-200 dark:bg-gray-700 dark:border-gray-600"),x(e,"class","bg-gray-50 h-screen")},m(p,R){F(p,e,R),f(e,i),f(e,l),f(e,a),f(a,s),f(s,t);for(let _=0;_<S.length;_+=1)S[_]&&S[_].m(s,null);xe(s,c[1],!0),f(a,d),f(a,b),f(e,w),f(e,D),f(D,j),f(j,n),f(j,O),f(j,T);for(let _=0;_<A.length;_+=1)A[_]&&A[_].m(T,null);f(e,I),f(e,U),f(U,z),f(z,q),f(z,ne),f(z,K),f(z,le),f(z,G),f(z,se),f(z,Y),f(e,h),Be(k,e,null),g=!0,y||(N=[J(s,"change",c[9]),J(s,"change",c[10]),J(b,"change",c[11]),J(K,"click",c[15]),J(G,"click",c[16]),J(Y,"click",c[17])],y=!0)},p(p,R){if(R[0]&5){E=re(p[2]);let _;for(_=0;_<E.length;_+=1){const X=Te(p,E,_);S[_]?S[_].p(X,R):(S[_]=Ee(X),S[_].c(),S[_].m(s,null))}for(;_<S.length;_+=1)S[_].d(1);S.length=E.length}if(R[0]&6&&xe(s,p[1]),R[0]&72){$=re(p[3]);let _;for(_=0;_<$.length;_+=1){const X=Se(p,$,_);A[_]?A[_].p(X,R):(A[_]=Oe(X),A[_].c(),A[_].m(T,null))}for(;_<A.length;_+=1)A[_].d(1);A.length=$.length}},i(p){g||(Ve(k.$$.fragment,p),g=!0)},o(p){Fe(k.$$.fragment,p),g=!1},d(p){p&&C(e),ye(S,p),ye(A,p),$e(k),y=!1,Le(N)}}}function ot(c,e,i){let u;async function l(r){localStorage.setItem("selectedSubject",r),console.log(u+"hahahahadfdsgdf")}function a(r){We(r)}let s="",t,P=[],d=[],b=[],w;async function D(r,h){console.log(r,h),r==="Present"||r==="Absent"?(U(r,h),console.log("test1")):r==="Late"&&U(r,h)}async function j(){const r=W(Z,"Subject",`${t}`,"Attendance");ce(r).then(k=>{k.forEach(g=>{b.push(g.id)})}).catch(k=>{console.error("Error fetching documents:",k)}),b.sort((k,g)=>{const y=new Date(k);return new Date(g)-y}),b.shift();const h=document.getElementById("dateSelector1");h.value=w}async function n(){const r=W(Z,"Subject"),h=Ce(r,pe("teacherID","==",s)),k=await ce(h);i(2,P=k.docs.map(g=>({id:g.id,data:g.data()})))}async function o(r){const h=document.getElementById("dateSelector1").value||w;if(console.log(h),console.log(w),r===1){const k=W(Z,"Subject",`${t}`,"Attendance"),g=te(k,await w);return ke(g,y=>{i(3,d=Object.entries(y.data()).map(([N,E])=>({id:N,...E}))),T(),O()})}if(r===2){const k=W(Z,"Subject",`${t}`,"Attendance"),g=te(k,await h);return ke(g,y=>{i(3,d=Object.entries(y.data()).map(([N,E])=>({id:N,...E})))})}}async function O(){const r=W(Z,"users"),h=d.map(g=>g.id);(await ce(r,pe("studentRFID","in",h))).forEach(g=>{const y=g.data().studentRFID,N=g.data().firstName+" "+g.data().lastName,E=d.find(S=>S.id===y);E&&(E.name=N)}),d.sort((g,y)=>g.name.localeCompare(y.name)),i(3,d),console.log(d)}async function T(){const r=d.map(g=>g.id),h=Ze(et()),k=r.map(g=>tt(at(h,`RFIDATTENDANCE/${w}/${g}`),async y=>{if(y.exists()){const N=W(Z,"Subject",`${t}`,"Attendance"),E=te(N,w);try{const S=await ie(E);if(S.exists()){const $=S.data(),A=Object.keys($).find(p=>p===g);A&&$[A].dataStatus!=="changed"?($[A].time=y.val().TIME,$[A].status="Present",$[A].dataStatus="changed",await ue(E,$)):console.log(`Field with ID not found or data status is already changed: ${g}`)}else console.log("Attendance document does not exist")}catch(S){console.error("Error updating attendance document:",S)}}else console.log(`No data available for ID: ${g}`)},y=>{console.error(y)}));await Promise.all(k)}function I(){fetch("https://worldtimeapi.org/api/timezone/Asia/Manila").then(r=>r.json()).then(r=>{var h=new Date(r.datetime),k=h.getFullYear(),g=h.getMonth()+1,y=h.getDate();w=k+"-"+g.toString().padStart(2,"0")+"-"+y.toString().padStart(2,"0"),console.log(w)}).catch(r=>{console.log("Error:",r)})}async function U(r,h){console.log(r);const k=W(Z,"Subject",`${t}`,"Attendance");if(r==="Present"){console.log("CHECK CGHECK 2",r);const g=te(k,w),y=await ie(g);if(y.exists()){console.log("EXIST");const N=y.data(),E=Object.keys(N).find(S=>S===h);E&&(N[E].status="Present",N[E].late="False",await ue(g,N))}}else if(r==="Absent"){console.log("CHECK CGHECK 1",r);const g=te(k,w),y=await ie(g);if(y.exists()){const N=y.data(),E=Object.keys(N).find(S=>S===h);E&&(N[E].status="Absent",N[E].late="False",await ue(g,N))}}else if(r==="Late"){console.log("CHECK CGHECK 1",r);const g=te(k,w),y=await ie(g);if(y.exists()){const N=y.data(),E=Object.keys(N).find(S=>S===h);E&&(N[E].late="True",await ue(g,N))}}}async function z(){console.log(t),n(),await j(),o(1)}async function q(r){const h=W(Z,"users"),k=Ce(h,pe("UID","==",r)),g=await ce(k);if(g.docs.length>0){const y=g.docs[0];console.log(y.data().Name),document.getElementById("userName").textContent=y.data().firstName+" "+y.data().lastName}else return"Teacher not found"}Me(()=>{const r=Ge.subscribe(h=>(s=localStorage.getItem("userId"),console.log(s),q(s),n(),I(),()=>{r()}));Ye.subscribe(h=>{typeof localStorage<"u"&&(localStorage.subjectSelected1=h)}),Xe.subscribe(h=>{typeof localStorage<"u"&&(localStorage.timeFrom=h)}),Je.subscribe(h=>{typeof localStorage<"u"&&(localStorage.timeTo=h)}),Qe.subscribe(h=>{typeof localStorage<"u"&&(localStorage.selectedSubject=h,i(0,u=h))})});function ae(){t=Ue(this),i(1,t),i(2,P)}return[u,t,P,d,l,a,D,o,z,ae,r=>{z(),l(r.target.value)},()=>o(2),(r,h)=>D(h.target.value,r.id),(r,h)=>D(h.target.value,r.id),(r,h)=>D(h.target.value,r.id),r=>a("/Points"),r=>a("/Notes"),r=>a("/Actions")]}class ut extends He{constructor(e){super(),ze(this,e,ot,st,Ie,{},null,[-1,-1])}}export{ut as component};

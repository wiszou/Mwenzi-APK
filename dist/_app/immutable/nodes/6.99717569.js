import{s as ce,f as ie,r as re,o as de,i as Kt}from"../chunks/scheduler.542a8b70.js";import{S as ue,i as he,g as i,s as w,r as fe,h as d,j as E,y as O,c as k,f as y,u as ge,k as n,z as wt,a as Ht,x as e,B as Qt,v as pe,A as Z,d as ve,t as me,C as Xt,w as _e,m as xt,n as bt,o as yt,D as xe}from"../chunks/index.def341b4.js";import{e as St,T as be,u as ye,s as we,a as ke,b as Te,c as mt,q as te,w as zt,g as At,f as _t,n as Ot,t as Tt,d as ee,h as ae,o as Ee}from"../chunks/Toaster.d9e0a0cb.js";import{g as Ce}from"../chunks/navigation.2fb20aa7.js";function le(r,a,g){const x=r.slice();return x[31]=a[g],x}function se(r,a,g){const x=r.slice();return x[34]=a[g],x}function ne(r){let a,g=r[34].id+"",x,M,_;return{c(){a=i("option"),x=xt(g),M=w(),this.h()},l(f){a=d(f,"OPTION",{class:!0});var o=E(a);x=bt(o,g),M=k(o),o.forEach(y),this.h()},h(){n(a,"class","rounded-xl"),a.__value=_=r[34].id,wt(a,a.__value)},m(f,o){Ht(f,a,o),e(a,x),e(a,M)},p(f,o){o[0]&2&&g!==(g=f[34].id+"")&&yt(x,g),o[0]&2&&_!==(_=f[34].id)&&(a.__value=_,wt(a,a.__value))},d(f){f&&y(a)}}}function oe(r){let a,g,x=r[31].ranking+"",M,_,f,o=r[31].name+"",$,W,C,D=r[31].totalPoints+"",G,N,R,S=r[31].day+"",J,F,T,j=r[31].week+"",lt,st,B,H,Y,z,l,u,m,s,t;function v(){return r[10](r[31])}function A(){return r[11](r[31])}return{c(){a=i("tr"),g=i("td"),M=xt(x),_=w(),f=i("td"),$=xt(o),W=w(),C=i("td"),G=xt(D),N=w(),R=i("td"),J=xt(S),F=w(),T=i("td"),lt=xt(j),st=w(),B=i("td"),H=i("img"),z=w(),l=i("img"),m=w(),this.h()},l(b){a=d(b,"TR",{class:!0});var p=E(a);g=d(p,"TD",{class:!0});var nt=E(g);M=bt(nt,x),nt.forEach(y),_=k(p),f=d(p,"TD",{class:!0});var V=E(f);$=bt(V,o),V.forEach(y),W=k(p),C=d(p,"TD",{id:!0,class:!0});var kt=E(C);G=bt(kt,D),kt.forEach(y),N=k(p),R=d(p,"TD",{id:!0,class:!0});var ut=E(R);J=bt(ut,S),ut.forEach(y),F=k(p),T=d(p,"TD",{id:!0,class:!0});var K=E(T);lt=bt(K,j),K.forEach(y),st=k(p),B=d(p,"TD",{class:!0});var q=E(B);H=d(q,"IMG",{src:!0,class:!0,alt:!0}),z=k(q),l=d(q,"IMG",{src:!0,class:!0,alt:!0}),q.forEach(y),m=k(p),p.forEach(y),this.h()},h(){n(g,"class","py-4 text-center"),n(f,"class","text-center"),n(C,"id","pointsDisplay1"),n(C,"class","pointsDisplay1 text-center"),n(R,"id","pointsDisplay2"),n(R,"class","pointsDisplay2 text-center"),R.hidden=!0,n(T,"id","pointsDisplay3"),n(T,"class","pointsDisplay3 text-center"),T.hidden=!0,Kt(H.src,Y="minus.png")||n(H,"src",Y),n(H,"class","btn btn-xs px-1 bg-transparent hover:bg-transparent border-none"),n(H,"alt","..."),Kt(l.src,u="add.png")||n(l,"src",u),n(l,"class","btn btn-xs px-1 bg-transparent hover:bg-transparent border-none"),n(l,"alt","..."),n(B,"class","text-center"),n(a,"class","bg-white border-b dark:bg-gray-800 dark:border-gray-700")},m(b,p){Ht(b,a,p),e(a,g),e(g,M),e(a,_),e(a,f),e(f,$),e(a,W),e(a,C),e(C,G),e(a,N),e(a,R),e(R,J),e(a,F),e(a,T),e(T,lt),e(a,st),e(a,B),e(B,H),e(B,z),e(B,l),e(a,m),s||(t=[Z(H,"click",v),Z(l,"click",A)],s=!0)},p(b,p){r=b,p[0]&4&&x!==(x=r[31].ranking+"")&&yt(M,x),p[0]&4&&o!==(o=r[31].name+"")&&yt($,o),p[0]&4&&D!==(D=r[31].totalPoints+"")&&yt(G,D),p[0]&4&&S!==(S=r[31].day+"")&&yt(J,S),p[0]&4&&j!==(j=r[31].week+"")&&yt(lt,j)},d(b){b&&y(a),s=!1,re(t)}}}function De(r){let a,g,x='<div class="mx-6 flex flex-wrap pt-5 flex-col md:flex-row items-center"><div class="w-full flex flex-row justify-between"><nav class="flex"><img src="Mwenzi5.png" class="h-14 pb-2" alt="..."/></nav> <div class="flex flex-row"><p class="font-medium text-md my-auto mr-3" id="userName">Hi, Mwenzi Teacher</p> <button class="dropdown dropdown-end"><svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="green" class="bi bi-person-circle" viewBox="0 0 16 16"><path d="M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"></path><path fill-rule="evenodd" d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8zm8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1z"></path></svg> <ul tabindex="0" class="text-center rounded-2xl mt-2 dropdown-content shadow bg-base-100 w-24"><li class="rounded-2xl hover:bg-gray-200"><a class="py-1 flex justify-center font-medium text-md">Log out</a></li></ul></button></div></div></div>',M,_,f,o,$="Select Class",W,C,D,G="Total Points",N,R="Daily",S,J="Weekly",F,T,j,lt="Reset Points",st,B,H,Y,z,l,u="âœ•",m,s,t="Are you sure to reset all points?",v,A,b,p="Yes",nt,V,kt="No",ut,K,q,rt,qt='<tr><th scope="col" class="px-6 py-4 text-center">Rank</th> <th scope="col" class="px-6 py-4 text-center">Student</th> <th scope="col" class="px-6 py-4 text-center">Points</th> <th scope="col" class="px-6 py-4 text-center">Update</th></tr>',Mt,ht,It,ct,U,Q,Ut='<svg xmlns="http://www.w3.org/2000/svg" width="27" height="28" fill="currentColor" class="bi bi-person-fill-check text-gray-500 dark:text-gray-400 group-hover:text-blue-600 dark:group-hover:text-blue-500" viewBox="0 0 16 16"><path d="M12.5 16a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7Zm1.679-4.493-1.335 2.226a.75.75 0 0 1-1.174.144l-.774-.773a.5.5 0 0 1 .708-.708l.547.548 1.17-1.951a.5.5 0 1 1 .858.514ZM11 5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"></path><path d="M2 13c0 1 1 1 1 1h5.256A4.493 4.493 0 0 1 8 12.5a4.49 4.49 0 0 1 1.544-3.393C9.077 9.038 8.564 9 8 9c-5 0-6 3-6 4Z"></path></svg> <span class="text-sm text-gray-500 dark:text-gray-400 group-hover:text-blue-600 dark:group-hover:text-blue-500">Attendance</span>',Lt,X,Vt='<svg xmlns="http://www.w3.org/2000/svg" width="25" height="28" fill="currentColor" class="bi bi-award-fill text-blue-500 dark:text-blue-400 group-hover:text-blue-600 dark:group-hover:text-blue-500" viewBox="0 0 16 16"><path d="m8 0 1.669.864 1.858.282.842 1.68 1.337 1.32L13.4 6l.306 1.854-1.337 1.32-.842 1.68-1.858.282L8 12l-1.669-.864-1.858-.282-.842-1.68-1.337-1.32L2.6 6l-.306-1.854 1.337-1.32.842-1.68L6.331.864 8 0z"></path><path d="M4 11.794V16l4-1 4 1v-4.206l-2.018.306L8 13.126 6.018 12.1 4 11.794z"></path></svg> <span class="text-sm text-blue-500 dark:text-blue-400 group-hover:text-blue-600 dark:group-hover:text-blue-500">Points</span>',Nt,tt,$t='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="28" fill="currentColor" class="bi bi-sticky-fill text-gray-500 dark:text-gray-400 group-hover:text-blue-600 dark:group-hover:text-blue-500" viewBox="0 0 17 17"><path d="M2.5 1A1.5 1.5 0 0 0 1 2.5v11A1.5 1.5 0 0 0 2.5 15h6.086a1.5 1.5 0 0 0 1.06-.44l4.915-4.914A1.5 1.5 0 0 0 15 8.586V2.5A1.5 1.5 0 0 0 13.5 1h-11zm6 8.5a1 1 0 0 1 1-1h4.396a.25.25 0 0 1 .177.427l-5.146 5.146a.25.25 0 0 1-.427-.177V9.5z"></path></svg> <span class="text-sm text-gray-500 dark:text-gray-400 group-hover:text-blue-600 dark:group-hover:text-blue-500">Notes</span>',Bt,et,Wt='<svg xmlns="http://www.w3.org/2000/svg" width="25" height="28" fill="currentColor" class="bi bi-grid-fill text-gray-500 dark:text-gray-400 group-hover:text-blue-600 dark:group-hover:text-blue-500" viewBox="0 0 17 17"><path d="M1 2.5A1.5 1.5 0 0 1 2.5 1h3A1.5 1.5 0 0 1 7 2.5v3A1.5 1.5 0 0 1 5.5 7h-3A1.5 1.5 0 0 1 1 5.5v-3zm8 0A1.5 1.5 0 0 1 10.5 1h3A1.5 1.5 0 0 1 15 2.5v3A1.5 1.5 0 0 1 13.5 7h-3A1.5 1.5 0 0 1 9 5.5v-3zm-8 8A1.5 1.5 0 0 1 2.5 9h3A1.5 1.5 0 0 1 7 10.5v3A1.5 1.5 0 0 1 5.5 15h-3A1.5 1.5 0 0 1 1 13.5v-3zm8 0A1.5 1.5 0 0 1 10.5 9h3a1.5 1.5 0 0 1 1.5 1.5v3a1.5 1.5 0 0 1-1.5 1.5h-3A1.5 1.5 0 0 1 9 13.5v-3z"></path></svg> <span class="text-sm text-gray-500 dark:text-gray-400 group-hover:text-blue-600 dark:group-hover:text-blue-500">Actions</span>',Rt,it,Et,jt,Ft,ft=St(r[1]),I=[];for(let h=0;h<ft.length;h+=1)I[h]=ne(se(r,ft,h));let gt=St(r[2]),L=[];for(let h=0;h<gt.length;h+=1)L[h]=oe(le(r,gt,h));return it=new be({}),{c(){a=i("body"),g=i("header"),g.innerHTML=x,M=w(),_=i("div"),f=i("select"),o=i("option"),o.textContent=$;for(let h=0;h<I.length;h+=1)I[h].c();W=w(),C=i("select"),D=i("option"),D.textContent=G,N=i("option"),N.textContent=R,S=i("option"),S.textContent=J,F=w(),T=i("div"),j=i("label"),j.textContent=lt,st=w(),B=i("input"),H=w(),Y=i("div"),z=i("div"),l=i("label"),l.textContent=u,m=w(),s=i("h3"),s.textContent=t,v=w(),A=i("div"),b=i("button"),b.textContent=p,nt=w(),V=i("label"),V.textContent=kt,ut=w(),K=i("div"),q=i("table"),rt=i("thead"),rt.innerHTML=qt,Mt=w(),ht=i("tbody");for(let h=0;h<L.length;h+=1)L[h].c();It=w(),ct=i("div"),U=i("div"),Q=i("button"),Q.innerHTML=Ut,Lt=w(),X=i("button"),X.innerHTML=Vt,Nt=w(),tt=i("button"),tt.innerHTML=$t,Bt=w(),et=i("button"),et.innerHTML=Wt,Rt=w(),fe(it.$$.fragment),this.h()},l(h){a=d(h,"BODY",{class:!0});var P=E(a);g=d(P,"HEADER",{class:!0,"data-svelte-h":!0}),O(g)!=="svelte-hi5vrn"&&(g.innerHTML=x),M=k(P),_=d(P,"DIV",{class:!0});var c=E(_);f=d(c,"SELECT",{id:!0,class:!0});var at=E(f);o=d(at,"OPTION",{"data-svelte-h":!0}),O(o)!=="svelte-nnppqb"&&(o.textContent=$);for(let dt=0;dt<I.length;dt+=1)I[dt].l(at);at.forEach(y),W=k(c),C=d(c,"SELECT",{id:!0,class:!0});var Ct=E(C);D=d(Ct,"OPTION",{class:!0,"data-svelte-h":!0}),O(D)!=="svelte-10rrb4u"&&(D.textContent=G),N=d(Ct,"OPTION",{class:!0,"data-svelte-h":!0}),O(N)!=="svelte-1le78di"&&(N.textContent=R),S=d(Ct,"OPTION",{class:!0,"data-svelte-h":!0}),O(S)!=="svelte-1knbarg"&&(S.textContent=J),Ct.forEach(y),c.forEach(y),F=k(P),T=d(P,"DIV",{class:!0});var pt=E(T);j=d(pt,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),O(j)!=="svelte-18edy1e"&&(j.textContent=lt),st=k(pt),B=d(pt,"INPUT",{type:!0,id:!0,class:!0}),H=k(pt),Y=d(pt,"DIV",{class:!0});var Yt=E(Y);z=d(Yt,"DIV",{class:!0});var vt=E(z);l=d(vt,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),O(l)!=="svelte-1ersbct"&&(l.textContent=u),m=k(vt),s=d(vt,"H3",{class:!0,"data-svelte-h":!0}),O(s)!=="svelte-1l74v8z"&&(s.textContent=t),v=k(vt),A=d(vt,"DIV",{class:!0});var Dt=E(A);b=d(Dt,"BUTTON",{id:!0,class:!0,"data-svelte-h":!0}),O(b)!=="svelte-gybtrc"&&(b.textContent=p),nt=k(Dt),V=d(Dt,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),O(V)!=="svelte-mpxpcw"&&(V.textContent=kt),Dt.forEach(y),vt.forEach(y),Yt.forEach(y),pt.forEach(y),ut=k(P),K=d(P,"DIV",{class:!0});var Zt=E(K);q=d(Zt,"TABLE",{class:!0});var Pt=E(q);rt=d(Pt,"THEAD",{class:!0,"data-svelte-h":!0}),O(rt)!=="svelte-1cz47fg"&&(rt.innerHTML=qt),Mt=k(Pt),ht=d(Pt,"TBODY",{});var Gt=E(ht);for(let dt=0;dt<L.length;dt+=1)L[dt].l(Gt);Gt.forEach(y),Pt.forEach(y),Zt.forEach(y),It=k(P),ct=d(P,"DIV",{id:!0,class:!0});var Jt=E(ct);U=d(Jt,"DIV",{class:!0});var ot=E(U);Q=d(ot,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),O(Q)!=="svelte-1p8q7iv"&&(Q.innerHTML=Ut),Lt=k(ot),X=d(ot,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),O(X)!=="svelte-1s6zy76"&&(X.innerHTML=Vt),Nt=k(ot),tt=d(ot,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),O(tt)!=="svelte-1nxhnyv"&&(tt.innerHTML=$t),Bt=k(ot),et=d(ot,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),O(et)!=="svelte-15uwffe"&&(et.innerHTML=Wt),ot.forEach(y),Jt.forEach(y),Rt=k(P),ge(it.$$.fragment,P),P.forEach(y),this.h()},h(){n(g,"class","text-gray-600 body-font view-transition-name: header; svelte-j4wpf5"),o.disabled=!0,o.selected=!0,o.__value="Select Class",wt(o,o.__value),n(f,"id","classSelection"),n(f,"class","select select-bordered font-medium focus:outline-1 w-full rounded-3xl max-w-xs"),r[0]===void 0&&ie(()=>r[8].call(f)),D.selected=!0,n(D,"class","rounded-3xl"),D.__value="Total Points",wt(D,D.__value),n(N,"class","rounded-xl"),N.__value="Daily",wt(N,N.__value),n(S,"class","rounded-xl"),S.__value="Weekly",wt(S,S.__value),n(C,"id","SortRec"),n(C,"class","bg-white w-56 h-12 font-medium text-sm rounded-3xl text-center mx-2 px-2 border border-gray-300 focus:outline-1 focus:outline-gray-300"),n(_,"class","flex justify-center mt-4 mx-6"),n(j,"for","reset"),n(j,"class","bg-red-500 rounded-3xl text-sm text-white w-32 h-7 text-center font-medium pt-1"),n(B,"type","checkbox"),n(B,"id","reset"),n(B,"class","modal-toggle"),n(l,"for","reset"),n(l,"class","btn btn-sm btn-circle absolute right-2 top-2"),n(s,"class","text-lg font-bold text-center mt-4"),n(b,"id","yesButton"),n(b,"class","bg-red-500 rounded-3xl mx-2 w-20 text-white px-4 font-medium"),n(V,"for","reset"),n(V,"class","bg-gray-200 rounded-3xl w-20 text-black font-medium text-center px-4 mx-2"),n(A,"class","mt-6 mb-1 flex justify-center"),n(z,"class","modal-box relative h-36"),n(Y,"class","modal"),n(T,"class","mt-6 mb-3 flex w-full justify-center"),n(rt,"class","text-xs text-gray-700 bg-gray-50 dark:bg-gray-700 dark:text-gray-400 sticky top-0"),n(q,"class","text-sm text-gray-500 dark:text-gray-400 w-full rounded-lg shadow-sm"),n(K,"class","mt-2 px-4 items-center text-center h-3/4 overflow-y-auto"),n(Q,"type","button"),n(Q,"class","inline-flex flex-col items-center justify-center px-5 hover:bg-gray-50 dark:hover:bg-gray-800 group"),n(X,"type","button"),n(X,"class","inline-flex flex-col items-center justify-center px-5 hover:bg-gray-50 dark:hover:bg-gray-800 group"),n(tt,"type","button"),n(tt,"class","inline-flex flex-col items-center justify-center px-5 hover:bg-gray-50 dark:hover:bg-gray-800 group"),n(et,"type","button"),n(et,"class","inline-flex flex-col items-center justify-center px-5 hover:bg-gray-50 dark:hover:bg-gray-800 group"),n(U,"class","grid h-full max-w-lg grid-cols-4 mx-auto font-medium"),n(ct,"id","bottomnav"),n(ct,"class","fixed bottom-0 left-0 z-50 w-full h-16 bg-white border-t border-gray-200 dark:bg-gray-700 dark:border-gray-600 svelte-j4wpf5"),n(a,"class","h-screen")},m(h,P){Ht(h,a,P),e(a,g),e(a,M),e(a,_),e(_,f),e(f,o);for(let c=0;c<I.length;c+=1)I[c]&&I[c].m(f,null);Qt(f,r[0],!0),e(_,W),e(_,C),e(C,D),e(C,N),e(C,S),e(a,F),e(a,T),e(T,j),e(T,st),e(T,B),e(T,H),e(T,Y),e(Y,z),e(z,l),e(z,m),e(z,s),e(z,v),e(z,A),e(A,b),e(A,nt),e(A,V),e(a,ut),e(a,K),e(K,q),e(q,rt),e(q,Mt),e(q,ht);for(let c=0;c<L.length;c+=1)L[c]&&L[c].m(ht,null);e(a,It),e(a,ct),e(ct,U),e(U,Q),e(U,Lt),e(U,X),e(U,Nt),e(U,tt),e(U,Bt),e(U,et),e(a,Rt),pe(it,a,null),Et=!0,jt||(Ft=[Z(f,"change",r[8]),Z(f,"change",r[9]),Z(C,"change",r[7]),Z(b,"click",r[4]),Z(Q,"click",r[12]),Z(X,"click",r[13]),Z(tt,"click",r[14]),Z(et,"click",r[15])],jt=!0)},p(h,P){if(P[0]&2){ft=St(h[1]);let c;for(c=0;c<ft.length;c+=1){const at=se(h,ft,c);I[c]?I[c].p(at,P):(I[c]=ne(at),I[c].c(),I[c].m(f,null))}for(;c<I.length;c+=1)I[c].d(1);I.length=ft.length}if(P[0]&3&&Qt(f,h[0]),P[0]&36){gt=St(h[2]);let c;for(c=0;c<gt.length;c+=1){const at=le(h,gt,c);L[c]?L[c].p(at,P):(L[c]=oe(at),L[c].c(),L[c].m(ht,null))}for(;c<L.length;c+=1)L[c].d(1);L.length=gt.length}},i(h){Et||(ve(it.$$.fragment,h),Et=!0)},o(h){me(it.$$.fragment,h),Et=!1},d(h){h&&y(a),Xt(I,h),Xt(L,h),_e(it),jt=!1,re(Ft)}}}function Pe(r,a,g){function x(l){Ce(l)}let M="",_,f=[],o=[],$;async function W(){const l=mt(_t,"Subject"),u=te(l,zt("teacherID","==",M)),m=await At(u);g(1,f=m.docs.map(s=>({id:s.id,data:s.data()})))}async function C(){if(_==="Select Class"){Tt.error("Please select a class");return}try{const l=mt(_t,"Subject",`${_}`,"Recitation");(await At(l)).forEach(async m=>{try{const s=m.ref;await Ot(s,{totalPoints:0,day:null,week:null}),Tt.success("Points reset successfully.")}catch(s){console.error("Error updating document:",s),Tt.error("Error resetting points. Please try again.")}})}catch(l){console.error("Error fetching documents:",l),Tt.error("Error fetching recitation documents. Please try again.")}}async function D(){const l=document.getElementById("SortRec").value,u=mt(_t,"Subject",`${_}`,"Recitation");return Ee(u,m=>{g(2,o=[]),m.forEach(s=>{const t=s.data(),v=s.id,A=t.totalPoints,b=t.week||0,p=t.day||0,nt={id:v,totalPoints:A,week:b,day:p};o.push(nt)}),l=="Total Points"?(o.sort((s,t)=>t.totalPoints-s.totalPoints),o.forEach((s,t)=>{s.ranking=t+1}),console.log("Updated recitation array with ranking:",o),console.log("recitation array:",o)):l=="Weekly"?(o.sort((s,t)=>t.week-s.week),o.forEach((s,t)=>{s.ranking=t+1})):l=="Daily"&&(o.sort((s,t)=>t.day-s.day),o.forEach((s,t)=>{s.ranking=t+1})),G()})}async function G(){const l=mt(_t,"users"),u=o.map(s=>s.id);(await At(l,zt("studentRFID","in",u))).forEach(s=>{const t=s.data().studentRFID,v=s.data().firstName+" "+s.data().lastName,A=o.find(b=>b.id===t);A&&(A.name=v)}),g(2,o)}function N(){fetch("https://worldtimeapi.org/api/timezone/Asia/Manila").then(l=>l.json()).then(l=>{var u=new Date(l.datetime),m=u.getFullYear(),s=u.getMonth()+1,t=u.getDate();$=m+"-"+s.toString().padStart(2,"0")+"-"+t.toString().padStart(2,"0"),console.log($)}).catch(l=>{console.log("Error:",l)})}async function R(l,u){const m=mt(_t,"Subject",`${_}`,"Recitation");if(l==="minus"){const s=ee(m,u),t=await ae(s);if(t.exists()){const v=t.data(),A=v.totalPoints-1,b=v.week-1,p=v.day-1;await Ot(s,{totalPoints:A,week:b,day:p}),console.log("Minus button clicked for document ID:",u)}}else if(l==="add"){const s=ee(m,u),t=await ae(s);if(t.exists()){const v=t.data(),A=v.totalPoints+1,b=v.week+1,p=v.day+1;await Ot(s,{totalPoints:A,week:b,day:p}),console.log("Minus button clicked for document ID:",u)}console.log("Add button clicked for document ID:",u)}Tt.success("Updated student points")}async function S(){console.log(_),W(),D(),F()}async function J(l){const u=mt(_t,"users"),m=te(u,zt("UID","==",l)),s=await At(m);if(s.docs.length>0){const t=s.docs[0];console.log(t.data().Name),document.getElementById("userName").textContent=t.data().firstName+" "+t.data().lastName}else return"Teacher not found"}async function F(){console.log("haha");const l=document.getElementById("SortRec").value,u=document.getElementsByClassName("pointsDisplay1"),m=document.getElementsByClassName("pointsDisplay2"),s=document.getElementsByClassName("pointsDisplay3");if(l==="Total Points"){for(let t=0;t<u.length;t++)u[t].hidden=!1;for(let t=0;t<m.length;t++)m[t].hidden=!0;for(let t=0;t<s.length;t++)s[t].hidden=!0;o.sort((t,v)=>v.totalPoints-t.totalPoints),o.forEach((t,v)=>{t.ranking=v+1})}if(l==="Weekly"){for(let t=0;t<u.length;t++)u[t].hidden=!0;for(let t=0;t<m.length;t++)m[t].hidden=!0;for(let t=0;t<s.length;t++)s[t].hidden=!1;o.sort((t,v)=>v.week-t.week),o.forEach((t,v)=>{t.ranking=v+1})}if(l==="Daily"){for(let t=0;t<u.length;t++)u[t].hidden=!0;for(let t=0;t<m.length;t++)m[t].hidden=!1;for(let t=0;t<s.length;t++)s[t].hidden=!0;o.sort((t,v)=>v.day-t.day),o.forEach((t,v)=>{t.ranking=v+1})}D()}de(()=>{const l=ye.subscribe(u=>(M=localStorage.getItem("userId"),console.log(M),J(M),W(),()=>{l()}));we.subscribe(u=>{typeof localStorage<"u"&&(localStorage.subjectSelected1=u)}),ke.subscribe(u=>{typeof localStorage<"u"&&(localStorage.timeFrom=u)}),Te.subscribe(u=>{typeof localStorage<"u"&&(localStorage.timeTo=u)})}),N();function T(){_=xe(this),g(0,_),g(1,f)}return[_,f,o,x,C,R,S,F,T,l=>{S()},l=>R("minus",l.id),l=>R("add",l.id),l=>x("/Attendance"),l=>x("/Points"),l=>x("/Notes"),l=>x("/Actions")]}class Le extends ue{constructor(a){super(),he(this,a,Pe,De,ce,{},null,[-1,-1])}}export{Le as component};

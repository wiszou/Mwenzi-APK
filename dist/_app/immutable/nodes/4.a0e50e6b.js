import{s as Ie,f as je,h as Le,r as Pe,o as Me}from"../chunks/scheduler.542a8b70.js";import{S as He,i as Re,g as p,s as R,r as ze,h as v,j as H,y as B,c as z,f as E,u as Be,k as b,z as F,a as W,x as i,B as xe,v as qe,A as Y,d as Fe,t as $e,C as ye,w as Ve,e as we,m as de,n as he,o as fe,D as Ue}from"../chunks/index.def341b4.js";import{e as re,T as Ke,u as Ze,s as Ge,a as Ye,b as Xe,j as Je,c as J,q as Ce,w as pe,g as ce,d as te,o as ke,h as ie,i as ue,t as Qe,f as Q,r as We,k as et,l as tt,m as at}from"../chunks/Toaster.7ae65ce8.js";import{g as nt}from"../chunks/navigation.1913fd84.js";function Te(o,e,a){const h=o.slice();return h[40]=e[a],h}function Se(o,e,a){const h=o.slice();return h[43]=e[a],h}function lt(o){let e,a=o[43].id+"",h,n,r;return{c(){e=p("option"),h=de(a),n=R(),this.h()},l(t){e=v(t,"OPTION",{class:!0});var l=H(e);h=he(l,a),n=z(l),l.forEach(E),this.h()},h(){b(e,"class","rounded-xl"),e.__value=r=o[43].id,F(e,e.__value)},m(t,l){W(t,e,l),i(e,h),i(e,n)},p(t,l){l[0]&4&&a!==(a=t[43].id+"")&&fe(h,a),l[0]&4&&r!==(r=t[43].id)&&(e.__value=r,F(e,e.__value))},d(t){t&&E(e)}}}function st(o){let e,a=o[43].id+"",h,n,r;return{c(){e=p("option"),h=de(a),n=R(),this.h()},l(t){e=v(t,"OPTION",{class:!0});var l=H(e);h=he(l,a),n=z(l),l.forEach(E),this.h()},h(){e.selected=!0,b(e,"class","rounded-xl"),e.__value=r=o[43].id,F(e,e.__value)},m(t,l){W(t,e,l),i(e,h),i(e,n)},p(t,l){l[0]&4&&a!==(a=t[43].id+"")&&fe(h,a),l[0]&4&&r!==(r=t[43].id)&&(e.__value=r,F(e,e.__value))},d(t){t&&E(e)}}}function Ae(o){let e;function a(r,t){return r[0]==r[43].id?st:lt}let h=a(o),n=h(o);return{c(){n.c(),e=we()},l(r){n.l(r),e=we()},m(r,t){n.m(r,t),W(r,e,t)},p(r,t){h===(h=a(r))&&n?n.p(r,t):(n.d(1),n=h(r),n&&(n.c(),n.m(e.parentNode,e)))},d(r){r&&E(e),n.d(r)}}}function Ee(o){let e,a,h="Present",n,r="Absent",t,l="Late",D,S;function x(...c){return o[12](o[40],...c)}return{c(){e=p("select"),a=p("option"),a.textContent=h,n=p("option"),n.textContent=r,t=p("option"),t.textContent=l,this.h()},l(c){e=v(c,"SELECT",{id:!0,class:!0});var f=H(e);a=v(f,"OPTION",{"data-svelte-h":!0}),B(a)!=="svelte-18i03hi"&&(a.textContent=h),n=v(f,"OPTION",{"data-svelte-h":!0}),B(n)!=="svelte-rmw58x"&&(n.textContent=r),t=v(f,"OPTION",{"data-svelte-h":!0}),B(t)!=="svelte-18kq4q0"&&(t.textContent=l),f.forEach(E),this.h()},h(){a.selected=!0,a.__value="Present",F(a,a.__value),n.__value="Absent",F(n,n.__value),t.__value="Late",F(t,t.__value),b(e,"id","studentStatus"),b(e,"class","select select-xs bg-green-500 focus:none text-white rounded-full w-22 text-xs")},m(c,f){W(c,e,f),i(e,a),i(e,n),i(e,t),D||(S=Y(e,"change",x),D=!0)},p(c,f){o=c},d(c){c&&E(e),D=!1,S()}}}function De(o){let e,a,h="Present",n,r="Absent",t,l="Late",D,S;function x(...c){return o[13](o[40],...c)}return{c(){e=p("select"),a=p("option"),a.textContent=h,n=p("option"),n.textContent=r,t=p("option"),t.textContent=l,this.h()},l(c){e=v(c,"SELECT",{id:!0,class:!0});var f=H(e);a=v(f,"OPTION",{"data-svelte-h":!0}),B(a)!=="svelte-b4gmlz"&&(a.textContent=h),n=v(f,"OPTION",{"data-svelte-h":!0}),B(n)!=="svelte-91jnc4"&&(n.textContent=r),t=v(f,"OPTION",{"data-svelte-h":!0}),B(t)!=="svelte-18kq4q0"&&(t.textContent=l),f.forEach(E),this.h()},h(){a.__value="Present",F(a,a.__value),n.selected=!0,n.__value="Absent",F(n,n.__value),t.__value="Late",F(t,t.__value),b(e,"id","studentStatus"),b(e,"class","select select-xs bg-red-500 focus:none text-white rounded-full w-22 text-xs")},m(c,f){W(c,e,f),i(e,a),i(e,n),i(e,t),D||(S=Y(e,"change",x),D=!0)},p(c,f){o=c},d(c){c&&E(e),D=!1,S()}}}function Ne(o){let e,a,h="Present",n,r="Absent",t,l="Late",D,S;function x(...c){return o[14](o[40],...c)}return{c(){e=p("select"),a=p("option"),a.textContent=h,n=p("option"),n.textContent=r,t=p("option"),t.textContent=l,this.h()},l(c){e=v(c,"SELECT",{class:!0});var f=H(e);a=v(f,"OPTION",{"data-svelte-h":!0}),B(a)!=="svelte-b4gmlz"&&(a.textContent=h),n=v(f,"OPTION",{"data-svelte-h":!0}),B(n)!=="svelte-rmw58x"&&(n.textContent=r),t=v(f,"OPTION",{"data-svelte-h":!0}),B(t)!=="svelte-svor0n"&&(t.textContent=l),f.forEach(E),this.h()},h(){a.__value="Present",F(a,a.__value),n.__value="Absent",F(n,n.__value),t.selected=!0,t.__value="Late",F(t,t.__value),b(e,"class","select select-xs bg-yellow-500 focus:none text-white rounded-full w-22 text-xs")},m(c,f){W(c,e,f),i(e,a),i(e,n),i(e,t),D||(S=Y(e,"change",x),D=!0)},p(c,f){o=c},d(c){c&&E(e),D=!1,S()}}}function Oe(o){let e,a,h=o[40].name+"",n,r,t,l=o[40].time+"",D,S,x,c,f,q,k=o[40].status=="Present"&&o[40].late==="False"&&Ee(o),N=o[40].status=="Absent"&&o[40].late==="False"&&De(o),O=o[40].late==="True"&&Ne(o);return{c(){e=p("tr"),a=p("td"),n=de(h),r=R(),t=p("td"),D=de(l),S=R(),x=p("td"),k&&k.c(),c=R(),N&&N.c(),f=R(),O&&O.c(),q=R(),this.h()},l(C){e=v(C,"TR",{class:!0});var j=H(e);a=v(j,"TD",{class:!0});var $=H(a);n=he($,h),$.forEach(E),r=z(j),t=v(j,"TD",{class:!0});var L=H(t);D=he(L,l),L.forEach(E),S=z(j),x=v(j,"TD",{class:!0});var M=H(x);k&&k.l(M),c=z(M),N&&N.l(M),f=z(M),O&&O.l(M),M.forEach(E),q=z(j),j.forEach(E),this.h()},h(){b(a,"class","py-4 text-left pl-4"),b(t,"class","text-center"),b(x,"class","text-center"),b(e,"class","bg-white border-b dark:bg-gray-800 dark:border-gray-700")},m(C,j){W(C,e,j),i(e,a),i(a,n),i(e,r),i(e,t),i(t,D),i(e,S),i(e,x),k&&k.m(x,null),i(x,c),N&&N.m(x,null),i(x,f),O&&O.m(x,null),i(e,q)},p(C,j){j[0]&8&&h!==(h=C[40].name+"")&&fe(n,h),j[0]&8&&l!==(l=C[40].time+"")&&fe(D,l),C[40].status=="Present"&&C[40].late==="False"?k?k.p(C,j):(k=Ee(C),k.c(),k.m(x,c)):k&&(k.d(1),k=null),C[40].status=="Absent"&&C[40].late==="False"?N?N.p(C,j):(N=De(C),N.c(),N.m(x,f)):N&&(N.d(1),N=null),C[40].late==="True"?O?O.p(C,j):(O=Ne(C),O.c(),O.m(x,null)):O&&(O.d(1),O=null)},d(C){C&&E(e),k&&k.d(),N&&N.d(),O&&O.d()}}}function ot(o){let e,a,h='<div class="mx-6 flex flex-wrap pt-5 flex-col md:flex-row items-center"><div class="w-full flex flex-row justify-between"><nav class="flex"><img src="Mwenzi5.png" class="h-14 pb-2" alt="..."/></nav> <div class="flex flex-row"><p class="font-medium text-md my-auto mr-3" id="userName">Hi, Mwenzi Teacher</p> <button class="dropdown dropdown-end"><svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" fill="green" class="bi bi-person-circle" viewBox="0 0 16 16"><path d="M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"></path><path fill-rule="evenodd" d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8zm8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1z"></path></svg> <ul tabindex="0" class="text-center rounded-2xl mt-2 dropdown-content shadow bg-base-100 w-24"><li class="rounded-2xl hover:bg-gray-200"><a class="py-1 flex justify-center font-medium text-md">Log out</a></li></ul></button></div></div></div>',n,r,t,l,D="Select Class",S,x,c,f,q,k,N='<tr><th scope="col" class="px-5 py-4 text-left">Student</th> <th scope="col" class="px-6 py-4 text-center">Time</th> <th scope="col" class="px-6 py-4 text-center">Status</th></tr>',O,C,j,$,L,M,ae='<svg xmlns="http://www.w3.org/2000/svg" width="27" height="28" fill="currentColor" class="bi bi-person-fill-check text-blue-500 dark:text-blue-400 group-hover:text-blue-600 dark:group-hover:text-blue-500" viewBox="0 0 16 16"><path d="M12.5 16a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7Zm1.679-4.493-1.335 2.226a.75.75 0 0 1-1.174.144l-.774-.773a.5.5 0 0 1 .708-.708l.547.548 1.17-1.951a.5.5 0 1 1 .858.514ZM11 5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"></path><path d="M2 13c0 1 1 1 1 1h5.256A4.493 4.493 0 0 1 8 12.5a4.49 4.49 0 0 1 1.544-3.393C9.077 9.038 8.564 9 8 9c-5 0-6 3-6 4Z"></path></svg> <span class="text-sm text-blue-500 dark:text-blue-400 group-hover:text-blue-600 dark:group-hover:text-blue-500">Attendance</span>',ne,U,ge='<svg xmlns="http://www.w3.org/2000/svg" width="25" height="28" fill="currentColor" class="bi bi-award-fill text-gray-500 dark:text-gray-400 group-hover:text-blue-600 dark:group-hover:text-blue-500" viewBox="0 0 16 16"><path d="m8 0 1.669.864 1.858.282.842 1.68 1.337 1.32L13.4 6l.306 1.854-1.337 1.32-.842 1.68-1.858.282L8 12l-1.669-.864-1.858-.282-.842-1.68-1.337-1.32L2.6 6l-.306-1.854 1.337-1.32.842-1.68L6.331.864 8 0z"></path><path d="M4 11.794V16l4-1 4 1v-4.206l-2.018.306L8 13.126 6.018 12.1 4 11.794z"></path></svg> <span class="text-sm text-gray-500 dark:text-gray-400 group-hover:text-blue-600 dark:group-hover:text-blue-500">Points</span>',le,K,_e='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="28" fill="currentColor" class="bi bi-sticky-fill text-gray-500 dark:text-gray-400 group-hover:text-blue-600 dark:group-hover:text-blue-500" viewBox="0 0 17 17"><path d="M2.5 1A1.5 1.5 0 0 0 1 2.5v11A1.5 1.5 0 0 0 2.5 15h6.086a1.5 1.5 0 0 0 1.06-.44l4.915-4.914A1.5 1.5 0 0 0 15 8.586V2.5A1.5 1.5 0 0 0 13.5 1h-11zm6 8.5a1 1 0 0 1 1-1h4.396a.25.25 0 0 1 .177.427l-5.146 5.146a.25.25 0 0 1-.427-.177V9.5z"></path></svg> <span class="text-sm text-gray-500 dark:text-gray-400 group-hover:text-blue-600 dark:group-hover:text-blue-500">Notes</span>',se,Z,s='<svg xmlns="http://www.w3.org/2000/svg" width="25" height="28" fill="currentColor" class="bi bi-grid-fill text-gray-500 dark:text-gray-400 group-hover:text-blue-600 dark:group-hover:text-blue-500" viewBox="0 0 17 17"><path d="M1 2.5A1.5 1.5 0 0 1 2.5 1h3A1.5 1.5 0 0 1 7 2.5v3A1.5 1.5 0 0 1 5.5 7h-3A1.5 1.5 0 0 1 1 5.5v-3zm8 0A1.5 1.5 0 0 1 10.5 1h3A1.5 1.5 0 0 1 15 2.5v3A1.5 1.5 0 0 1 13.5 7h-3A1.5 1.5 0 0 1 9 5.5v-3zm-8 8A1.5 1.5 0 0 1 2.5 9h3A1.5 1.5 0 0 1 7 10.5v3A1.5 1.5 0 0 1 5.5 15h-3A1.5 1.5 0 0 1 1 13.5v-3zm8 0A1.5 1.5 0 0 1 10.5 9h3a1.5 1.5 0 0 1 1.5 1.5v3a1.5 1.5 0 0 1-1.5 1.5h-3A1.5 1.5 0 0 1 9 13.5v-3z"></path></svg> <span class="text-sm text-gray-500 dark:text-gray-400 group-hover:text-blue-600 dark:group-hover:text-blue-500">Actions</span>',u,y,d,m,A,T=re(o[2]),w=[];for(let _=0;_<T.length;_+=1)w[_]=Ae(Se(o,T,_));let V=re(o[3]),I=[];for(let _=0;_<V.length;_+=1)I[_]=Oe(Te(o,V,_));return y=new Ke({}),{c(){e=p("body"),a=p("header"),a.innerHTML=h,n=R(),r=p("div"),t=p("select"),l=p("option"),l.textContent=D;for(let _=0;_<w.length;_+=1)w[_].c();S=R(),x=p("input"),c=R(),f=p("div"),q=p("table"),k=p("thead"),k.innerHTML=N,O=R(),C=p("tbody");for(let _=0;_<I.length;_+=1)I[_].c();j=R(),$=p("div"),L=p("div"),M=p("button"),M.innerHTML=ae,ne=R(),U=p("button"),U.innerHTML=ge,le=R(),K=p("button"),K.innerHTML=_e,se=R(),Z=p("button"),Z.innerHTML=s,u=R(),ze(y.$$.fragment),this.h()},l(_){e=v(_,"BODY",{class:!0});var P=H(e);a=v(P,"HEADER",{class:!0,"data-svelte-h":!0}),B(a)!=="svelte-bbxr0v"&&(a.innerHTML=h),n=z(P),r=v(P,"DIV",{class:!0});var g=H(r);t=v(g,"SELECT",{id:!0,class:!0});var G=H(t);l=v(G,"OPTION",{"data-svelte-h":!0}),B(l)!=="svelte-nnppqb"&&(l.textContent=D);for(let ee=0;ee<w.length;ee+=1)w[ee].l(G);G.forEach(E),S=z(g),x=v(g,"INPUT",{id:!0,type:!0,class:!0}),g.forEach(E),c=z(P),f=v(P,"DIV",{class:!0});var ve=H(f);q=v(ve,"TABLE",{class:!0});var oe=H(q);k=v(oe,"THEAD",{class:!0,"data-svelte-h":!0}),B(k)!=="svelte-i0ityr"&&(k.innerHTML=N),O=z(oe),C=v(oe,"TBODY",{});var me=H(C);for(let ee=0;ee<I.length;ee+=1)I[ee].l(me);me.forEach(E),oe.forEach(E),ve.forEach(E),j=z(P),$=v(P,"DIV",{id:!0,class:!0});var be=H($);L=v(be,"DIV",{class:!0});var X=H(L);M=v(X,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),B(M)!=="svelte-vxz2z1"&&(M.innerHTML=ae),ne=z(X),U=v(X,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),B(U)!=="svelte-1jmo1ga"&&(U.innerHTML=ge),le=z(X),K=v(X,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),B(K)!=="svelte-1u5yeon"&&(K.innerHTML=_e),se=z(X),Z=v(X,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),B(Z)!=="svelte-jmxo9m"&&(Z.innerHTML=s),X.forEach(E),be.forEach(E),u=z(P),Be(y.$$.fragment,P),P.forEach(E),this.h()},h(){b(a,"class","header text-gray-600 body-font svelte-s9tab1"),l.disabled=!0,l.selected=!0,l.__value="Select Class",F(l,l.__value),b(t,"id","classSelection"),b(t,"class","select select-bordered font-medium focus:outline-1 w-full rounded-3xl max-w-xs"),o[1]===void 0&&je(()=>o[9].call(t)),b(x,"id","dateSelector1"),b(x,"type","date"),b(x,"class","bg-white w-56 h-12 font-medium text-sm text-center mx-2 rounded-3xl border border-gray-300 px-2 focus:outline-1 focus:outline-gray-300"),x.value=Le+";",b(r,"class","flex justify-center mt-4 mx-6"),b(k,"class","text-xs text-gray-700 bg-gray-50 dark:bg-gray-700 dark:text-gray-400 sticky top-0"),b(q,"class","text-sm text-gray-500 dark:text-gray-400 w-full rounded-lg shadow-sm"),b(f,"class","mt-5 px-4 items-center text-center h-3/4 overflow-y-auto"),b(M,"type","button"),b(M,"class","inline-flex flex-col items-center justify-center px-5 hover:bg-gray-50 dark:hover:bg-gray-800 group"),b(U,"type","button"),b(U,"class","inline-flex flex-col items-center justify-center px-5 hover:bg-gray-50 dark:hover:bg-gray-800 group"),b(K,"type","button"),b(K,"class","inline-flex flex-col items-center justify-center px-5 hover:bg-gray-50 dark:hover:bg-gray-800 group"),b(Z,"type","button"),b(Z,"class","inline-flex flex-col items-center justify-center px-5 hover:bg-gray-50 dark:hover:bg-gray-800 group"),b(L,"class","grid h-full max-w-lg grid-cols-4 mx-auto font-medium"),b($,"id","bottomnav"),b($,"class","fixed bottom-0 left-0 z-50 w-full h-16 bg-white border-t border-gray-200 dark:bg-gray-700 dark:border-gray-600 svelte-s9tab1"),b(e,"class","h-screen")},m(_,P){W(_,e,P),i(e,a),i(e,n),i(e,r),i(r,t),i(t,l);for(let g=0;g<w.length;g+=1)w[g]&&w[g].m(t,null);xe(t,o[1],!0),i(r,S),i(r,x),i(e,c),i(e,f),i(f,q),i(q,k),i(q,O),i(q,C);for(let g=0;g<I.length;g+=1)I[g]&&I[g].m(C,null);i(e,j),i(e,$),i($,L),i(L,M),i(L,ne),i(L,U),i(L,le),i(L,K),i(L,se),i(L,Z),i(e,u),qe(y,e,null),d=!0,m||(A=[Y(t,"change",o[9]),Y(t,"change",o[10]),Y(x,"change",o[11]),Y(U,"click",o[15]),Y(K,"click",o[16]),Y(Z,"click",o[17])],m=!0)},p(_,P){if(P[0]&5){T=re(_[2]);let g;for(g=0;g<T.length;g+=1){const G=Se(_,T,g);w[g]?w[g].p(G,P):(w[g]=Ae(G),w[g].c(),w[g].m(t,null))}for(;g<w.length;g+=1)w[g].d(1);w.length=T.length}if(P[0]&6&&xe(t,_[1]),P[0]&72){V=re(_[3]);let g;for(g=0;g<V.length;g+=1){const G=Te(_,V,g);I[g]?I[g].p(G,P):(I[g]=Oe(G),I[g].c(),I[g].m(C,null))}for(;g<I.length;g+=1)I[g].d(1);I.length=V.length}},i(_){d||(Fe(y.$$.fragment,_),d=!0)},o(_){$e(y.$$.fragment,_),d=!1},d(_){_&&E(e),ye(w,_),ye(I,_),Ve(y),m=!1,Pe(A)}}}function rt(o,e,a){let h;async function n(s){localStorage.setItem("selectedSubject",s),console.log(h+"hahahahadfdsgdf")}function r(s){nt(s)}let t="",l,D=[],S=[],x=[],c;async function f(s,u){console.log(s,u),s==="Present"||s==="Absent"?($(s,u),console.log("test1")):s==="Late"&&$(s,u)}async function q(){const s=J(Q,"Subject",`${l}`,"Attendance");ce(s).then(y=>{y.forEach(d=>{x.push(d.id)})}).catch(y=>{console.error("Error fetching documents:",y)}),x.sort((y,d)=>{const m=new Date(y);return new Date(d)-m}),x.shift();const u=document.getElementById("dateSelector1");u.value=c}async function k(){const s=J(Q,"Subject"),u=Ce(s,pe("teacherID","==",t)),y=await ce(u);a(2,D=y.docs.map(d=>({id:d.id,data:d.data()})))}async function N(s){const u=document.getElementById("dateSelector1").value||c;if(console.log(u),console.log(c),s===1){const y=J(Q,"Subject",`${l}`,"Attendance"),d=te(y,await c);return ke(d,m=>{a(3,S=Object.entries(m.data()).map(([A,T])=>({id:A,...T}))),C(),O()})}if(s===2){const y=J(Q,"Subject",`${l}`,"Attendance"),d=te(y,await u);return ke(d,m=>{a(3,S=Object.entries(m.data()).map(([A,T])=>({id:A,...T}))),C(),O()})}}async function O(){const s=J(Q,"users"),u=S.map(d=>d.id);(await ce(s,pe("studentRFID","in",u))).forEach(d=>{const m=d.data().studentRFID,A=d.data().firstName+" "+d.data().lastName,T=S.find(w=>w.id===m);T&&(T.name=A)}),S.sort((d,m)=>d.name.localeCompare(m.name)),a(3,S),console.log(S)}async function C(){const s=S.map(d=>d.id),u=We(et()),y=s.map(d=>tt(at(u,`RFIDATTENDANCE/${c}/${d}`),async m=>{if(m.exists()){const A=J(Q,"Subject",`${l}`,"Attendance"),T=te(A,c);try{const w=await ie(T);if(w.exists()){const V=w.data(),I=Object.keys(V).find(_=>_===d);I&&V[I].dataStatus!=="changed"?(V[I].time=m.val().TIME,V[I].status="Present",V[I].dataStatus="changed",await ue(T,V)):console.log(`Field with ID not found or data status is already changed: ${d}`)}else console.log("Attendance document does not exist")}catch(w){console.error("Error updating attendance document:",w)}}else console.log(`No data available for ID: ${d}`)},m=>{console.error(m)}));await Promise.all(y)}function j(){fetch("https://worldtimeapi.org/api/timezone/Asia/Manila").then(s=>s.json()).then(s=>{var u=new Date(s.datetime),y=u.getFullYear(),d=u.getMonth()+1,m=u.getDate();c=y+"-"+d.toString().padStart(2,"0")+"-"+m.toString().padStart(2,"0"),console.log(c)}).catch(s=>{console.log("Error:",s)})}async function $(s,u){console.log(s);const y=J(Q,"Subject",`${l}`,"Attendance");if(s==="Present"){console.log("CHECK CGHECK 2",s);const d=te(y,c),m=await ie(d);if(m.exists()){console.log("EXIST");const A=m.data(),T=Object.keys(A).find(w=>w===u);T&&(A[T].status="Present",A[T].late="False",await ue(d,A))}}else if(s==="Absent"){console.log("CHECK CGHECK 1",s);const d=te(y,c),m=await ie(d);if(m.exists()){const A=m.data(),T=Object.keys(A).find(w=>w===u);T&&(A[T].status="Absent",A[T].late="False",await ue(d,A))}}else if(s==="Late"){console.log("CHECK CGHECK 1",s);const d=te(y,c),m=await ie(d);if(m.exists()){const A=m.data(),T=Object.keys(A).find(w=>w===u);T&&(A[T].late="True",await ue(d,A))}}Qe.success("Status succesfully changed")}async function L(){console.log(l),k(),await q(),N(1)}async function M(s){const u=J(Q,"users"),y=Ce(u,pe("UID","==",s)),d=await ce(y);if(d.docs.length>0){const m=d.docs[0];console.log(m.data().Name),document.getElementById("userName").textContent=m.data().firstName+" "+m.data().lastName}else return"Teacher not found"}Me(()=>{const s=Ze.subscribe(u=>(t=localStorage.getItem("userId"),console.log(t),M(t),k(),j(),()=>{s()}));Ge.subscribe(u=>{typeof localStorage<"u"&&(localStorage.subjectSelected1=u)}),Ye.subscribe(u=>{typeof localStorage<"u"&&(localStorage.timeFrom=u)}),Xe.subscribe(u=>{typeof localStorage<"u"&&(localStorage.timeTo=u)}),Je.subscribe(u=>{typeof localStorage<"u"&&(localStorage.selectedSubject=u,a(0,h=u))})});function ae(){l=Ue(this),a(1,l),a(2,D)}return[h,l,D,S,n,r,f,N,L,ae,s=>{L(),n(s.target.value)},()=>N(2),(s,u)=>f(u.target.value,s.id),(s,u)=>f(u.target.value,s.id),(s,u)=>f(u.target.value,s.id),s=>r("/Points"),s=>r("/Notes"),s=>r("/Actions")]}class ht extends He{constructor(e){super(),Re(this,e,rt,ot,Ie,{},null,[-1,-1])}}export{ht as component};

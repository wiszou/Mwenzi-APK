import{s as Q,r as X,o as Y}from"../chunks/scheduler.542a8b70.js";import{S as Z,i as ee,g as l,s as D,r as te,h as n,j as I,y as j,c as C,f as v,u as se,k as e,a as J,x as s,z as k,v as ae,A as N,d as oe,t as re,w as le}from"../chunks/index.def341b4.js";import{T as ne,u as K,t as S,q as ie,w as ue,c as ce,f as de,g as me,a as fe}from"../chunks/navigation.51511263.js";const pe=!0,be=Object.freeze(Object.defineProperty({__proto__:null,prerender:pe},Symbol.toStringTag,{value:"Module"}));function ve(b){let d,m,a,o,$='<img src="Mwenzi5.png" class="h-auto max-w-full duration-500 hover:scale-105 hover:-translate-10" alt="..."/>',T,g,r,f,i,x="Email",U,u,A,h,_,H="Password",O,c,z,y,R="Log In",L,w,P,B,W;return w=new ne({}),{c(){d=l("div"),m=l("div"),a=l("div"),o=l("div"),o.innerHTML=$,T=D(),g=l("div"),r=l("form"),f=l("div"),i=l("label"),i.textContent=x,U=D(),u=l("input"),A=D(),h=l("div"),_=l("label"),_.textContent=H,O=D(),c=l("input"),z=D(),y=l("button"),y.textContent=R,L=D(),te(w.$$.fragment),this.h()},l(t){d=n(t,"DIV",{class:!0});var p=I(d);m=n(p,"DIV",{class:!0});var F=I(m);a=n(F,"DIV",{class:!0});var V=I(a);o=n(V,"DIV",{class:!0,"data-svelte-h":!0}),j(o)!=="svelte-1xljvve"&&(o.innerHTML=$),T=C(V),g=n(V,"DIV",{class:!0});var G=I(g);r=n(G,"FORM",{});var E=I(r);f=n(E,"DIV",{class:!0});var q=I(f);i=n(q,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),j(i)!=="svelte-lgsm1b"&&(i.textContent=x),U=C(q),u=n(q,"INPUT",{type:!0,name:!0,id:!0,placeholder:!0,class:!0}),q.forEach(v),A=C(E),h=n(E,"DIV",{class:!0});var M=I(h);_=n(M,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),j(_)!=="svelte-1mnn4ft"&&(_.textContent=H),O=C(M),c=n(M,"INPUT",{type:!0,name:!0,id:!0,placeholder:!0,class:!0}),M.forEach(v),z=C(E),y=n(E,"BUTTON",{class:!0,"data-svelte-h":!0}),j(y)!=="svelte-opgp6y"&&(y.textContent=R),E.forEach(v),G.forEach(v),V.forEach(v),F.forEach(v),p.forEach(v),L=C(t),se(w.$$.fragment,t),this.h()},h(){e(o,"class","text-center"),e(i,"for","email"),e(i,"class","block mb-2 text-md font-medium text-gray"),e(u,"type","email"),e(u,"name","email"),e(u,"id","email"),e(u,"placeholder","Email"),e(u,"class","w-full px-3 py-2 placeholder-gray-300 border border-gray-300 rounded-3xl focus:outline-none"),e(f,"class","mb-4"),e(_,"for","password"),e(_,"class","block mb-2 text-md font-medium text-gray"),e(c,"type","password"),e(c,"name","password"),e(c,"id","password"),e(c,"placeholder","Password"),e(c,"class","w-full px-3 py-2 placeholder-gray-300 border border-gray-300 rounded-3xl focus:outline-none"),e(h,"class","mb-5"),e(y,"class","w-full px-3 py-4 mt-1 text-white bg-[#2ea44f] focus:outline-none font-medium rounded-3xl hover:bg-[#1e7d3f] duration-300 hover:scale-105"),e(g,"class","m-7"),e(a,"class","max-w-md mx-auto"),e(m,"class","container mx-auto"),e(d,"class","pb-5 flex items-center justify-center min-h-screen px-5 bg-gray-100")},m(t,p){J(t,d,p),s(d,m),s(m,a),s(a,o),s(a,T),s(a,g),s(g,r),s(r,f),s(f,i),s(f,U),s(f,u),k(u,b[0]),s(r,A),s(r,h),s(h,_),s(h,O),s(h,c),k(c,b[1]),s(r,z),s(r,y),J(t,L,p),ae(w,t,p),P=!0,B||(W=[N(u,"input",b[3]),N(c,"input",b[4]),N(y,"click",b[2])],B=!0)},p(t,[p]){p&1&&u.value!==t[0]&&k(u,t[0]),p&2&&c.value!==t[1]&&k(c,t[1])},i(t){P||(oe(w.$$.fragment,t),P=!0)},o(t){re(w.$$.fragment,t),P=!1},d(t){t&&(v(d),v(L)),le(w,t),B=!1,X(W)}}}function ge(b,d,m){let a="",o="";async function $(){if(a===""||o===""){console.log("Email or password is empty"),S.error("Email or Password is empty");return}S.success("Logging In");const r=ie(ce(de,"users"),ue("email","==",a));(await me(r)).forEach(i=>{if(i.exists()){console.log(i.data());const x=i.data();if(console.log("Document data:",x),x.userRole==="teacher")if(x.password===o){console.log("User is a Teacher"),S.success("Log In Successful");const U=x.UID;K.set(U),localStorage.getItem("userId"),fe("../Attendance")}else console.log("Wrong Password"),S.error("Wrong Password");else console.log("User is not a Student"),S.error("User is not a Student")}else console.log("User not found"),S.log("User not found")})}Y(()=>{K.subscribe(r=>{localStorage.userId=r})});function T(){a=this.value,m(0,a)}function g(){o=this.value,m(1,o)}return[a,o,$,T,g]}class xe extends Z{constructor(d){super(),ee(this,d,ge,ve,Q,{})}}export{xe as component,be as universal};
